<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>FEDRA emulsion software from the OPERA Collaboration: TOracleServerE2 Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">FEDRA emulsion software from the OPERA Collaboration
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('classTOracleServerE2.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="classTOracleServerE2-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">TOracleServerE2 Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="TOracleServerE2_8h_source.html">TOracleServerE2.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for TOracleServerE2:</div>
<div class="dyncontent">
<div class="center"><img src="classTOracleServerE2__inherit__graph.png" border="0" usemap="#aTOracleServerE2_inherit__map" alt="Inheritance graph"/></div>
<map name="aTOracleServerE2_inherit__map" id="aTOracleServerE2_inherit__map">
<area shape="rect" title=" " alt="" coords="178,155,301,181"/>
<area shape="rect" href="classTOracleServerE2W.html" title=" " alt="" coords="5,229,140,256"/>
<area shape="rect" href="classTOracleServerE2WFB.html" title=" " alt="" coords="164,229,315,256"/>
<area shape="rect" href="classTOracleServerE2WX.html" title=" " alt="" coords="339,229,483,256"/>
<area shape="rect" href="classTOracleServer.html" title=" " alt="" coords="186,80,293,107"/>
<area shape="rect" title=" " alt="" coords="192,5,287,32"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for TOracleServerE2:</div>
<div class="dyncontent">
<div class="center"><img src="classTOracleServerE2__coll__graph.png" border="0" usemap="#aTOracleServerE2_coll__map" alt="Collaboration graph"/></div>
<map name="aTOracleServerE2_coll__map" id="aTOracleServerE2_coll__map">
<area shape="rect" title=" " alt="" coords="5,155,128,181"/>
<area shape="rect" href="classTOracleServer.html" title=" " alt="" coords="13,80,120,107"/>
<area shape="rect" title=" " alt="" coords="19,5,114,32"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a818b40ef093b6e8c18f611aa05d26633"><td class="memItemLeft" align="right" valign="top">Int_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTOracleServerE2.html#a818b40ef093b6e8c18f611aa05d26633">ConvertMicrotracksDataSetToEdb</a> (const char *query, const char *<a class="el" href="emrec_8cpp.html#abb8a075674b43678714bafe11798d10e">outdir</a>, int major=0, int minor=0, bool structure_only=false)</td></tr>
<tr class="separator:a818b40ef093b6e8c18f611aa05d26633"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93dd3154d9c54b323414cb5f9cea4abf"><td class="memItemLeft" align="right" valign="top">Int_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTOracleServerE2.html#a93dd3154d9c54b323414cb5f9cea4abf">ConvertMicrotracksParentProcessToEdb</a> (ULong64_t parentprocessoperation, const char *<a class="el" href="emrec_8cpp.html#abb8a075674b43678714bafe11798d10e">outdir</a>, int major=0, int minor=0, bool structure_only=false)</td></tr>
<tr class="separator:a93dd3154d9c54b323414cb5f9cea4abf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7bcb2bf9fd6b4bf5cbca865b9d346197"><td class="memItemLeft" align="right" valign="top">Int_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTOracleServerE2.html#a7bcb2bf9fd6b4bf5cbca865b9d346197">ConvertMicrotracksProcessToEdb</a> (ULong64_t processoperation, const char *<a class="el" href="emrec_8cpp.html#abb8a075674b43678714bafe11798d10e">outdir</a>, int major=0, int minor=0, bool structure_only=false)</td></tr>
<tr class="separator:a7bcb2bf9fd6b4bf5cbca865b9d346197"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2ecd714dd33a6b90a6cfa91480b4d5d"><td class="memItemLeft" align="right" valign="top">Int_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTOracleServerE2.html#ab2ecd714dd33a6b90a6cfa91480b4d5d">ConvertMicrotracksVolumeToEdb</a> (ULong64_t id_volume, const char *<a class="el" href="emrec_8cpp.html#abb8a075674b43678714bafe11798d10e">outdir</a>, int major=0, int minor=0, bool structure_only=false)</td></tr>
<tr class="separator:ab2ecd714dd33a6b90a6cfa91480b4d5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b83db1ceeafb8b0bdec86822cdfce58"><td class="memItemLeft" align="right" valign="top">Int_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTOracleServerE2.html#a0b83db1ceeafb8b0bdec86822cdfce58">ConvertMicrotracksZoneToEdb</a> (Int_t id_eventbrick, ULong64_t id_zone, <a class="el" href="classEdbRun.html">EdbRun</a> &amp;<a class="el" href="RecDispNU_8C.html#aa24aa4c1e4e46c679e1242faed4c4b97">run</a>)</td></tr>
<tr class="separator:a0b83db1ceeafb8b0bdec86822cdfce58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a271e3361a076d8555d22f98403e5b6d9"><td class="memItemLeft" align="right" valign="top">Int_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTOracleServerE2.html#a271e3361a076d8555d22f98403e5b6d9">ConvertScanbackPathToEdb</a> (Int_t id_eventbrick, Int_t path, const char *<a class="el" href="emrec_8cpp.html#abb8a075674b43678714bafe11798d10e">outdir</a>, int major, int minor)</td></tr>
<tr class="separator:a271e3361a076d8555d22f98403e5b6d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2d46037367a85cde34d39e9e5feb8ea"><td class="memItemLeft" align="right" valign="top">Int_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTOracleServerE2.html#ae2d46037367a85cde34d39e9e5feb8ea">DumpBrickVolumesID</a> (char *id_eventbrick)</td></tr>
<tr class="separator:ae2d46037367a85cde34d39e9e5feb8ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70edeca124111d1964c475cfcbec28c0"><td class="memItemLeft" align="right" valign="top">Int_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTOracleServerE2.html#a70edeca124111d1964c475cfcbec28c0">DumpEventsID</a> (char *id_eventbrick)</td></tr>
<tr class="separator:a70edeca124111d1964c475cfcbec28c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c21c9689362499a2b752980e12caab1"><td class="memItemLeft" align="right" valign="top">Int_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTOracleServerE2.html#a7c21c9689362499a2b752980e12caab1">DumpProcessOperations</a> (char *id_eventbrick, char *id_programsettings)</td></tr>
<tr class="separator:a7c21c9689362499a2b752980e12caab1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b7906baaf4bc6badacb55deb0648d9b"><td class="memItemLeft" align="right" valign="top">Int_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTOracleServerE2.html#a6b7906baaf4bc6badacb55deb0648d9b">DumpProcessOperations</a> (char *id_eventbrick, Int_t driverlevel)</td></tr>
<tr class="separator:a6b7906baaf4bc6badacb55deb0648d9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13ffb64bdf2900441ad33996860b6008"><td class="memItemLeft" align="right" valign="top">Int_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTOracleServerE2.html#a13ffb64bdf2900441ad33996860b6008">GetId_EventBrick</a> (const char *id_brick, const char *id_set, char *id)</td></tr>
<tr class="separator:a13ffb64bdf2900441ad33996860b6008"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c0cc84b15ca402d90bd27cd844bc1f6"><td class="memItemLeft" align="right" valign="top">Int_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTOracleServerE2.html#a2c0cc84b15ca402d90bd27cd844bc1f6">GetId_ScanbackPath</a> (char *id_eventbrick, char *id_process_operation, int path, char *id)</td></tr>
<tr class="separator:a2c0cc84b15ca402d90bd27cd844bc1f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94c1cfb9ea893f5204ab3c28129abe25"><td class="memItemLeft" align="right" valign="top">ULong64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTOracleServerE2.html#a94c1cfb9ea893f5204ab3c28129abe25">GetId_ScanbackPath</a> (ULong64_t id_eventbrick, ULong64_t id_process_operation, int path)</td></tr>
<tr class="separator:a94c1cfb9ea893f5204ab3c28129abe25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca04a8f76f5a250586246116fd9899e6"><td class="memItemLeft" align="right" valign="top">Int_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTOracleServerE2.html#aca04a8f76f5a250586246116fd9899e6">GetId_Volume</a> (char *id_eventbrick, char *id_process_operation, int ivolume, char *id)</td></tr>
<tr class="separator:aca04a8f76f5a250586246116fd9899e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ecbc6c02c82fe3ed04d2c419610dbf8"><td class="memItemLeft" align="right" valign="top">Int_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTOracleServerE2.html#a5ecbc6c02c82fe3ed04d2c419610dbf8">GetId_Zone</a> (char *id_eventbrick, char *id_plate, char *id_process_operation, char *series, char *id)</td></tr>
<tr class="separator:a5ecbc6c02c82fe3ed04d2c419610dbf8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3dbd97dfaf277c229c1d5e34c66be676"><td class="memItemLeft" align="right" valign="top">Int_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTOracleServerE2.html#a3dbd97dfaf277c229c1d5e34c66be676">GetProcessOperationID</a> (char *id_eventbrick, char *id_parent_operation, char *id_programsettings, char *id_plate, char *id)</td></tr>
<tr class="separator:a3dbd97dfaf277c229c1d5e34c66be676"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adbc92586d1b3802d7cf2806955f73599"><td class="memItemLeft" align="right" valign="top">Int_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTOracleServerE2.html#adbc92586d1b3802d7cf2806955f73599">GetProcessOperationID</a> (char *id_eventbrick, char *id_programsettings, char *id)</td></tr>
<tr class="separator:adbc92586d1b3802d7cf2806955f73599"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2512b0e12f8036f960f2a83b19a70b1d"><td class="memItemLeft" align="right" valign="top">ULong64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTOracleServerE2.html#a2512b0e12f8036f960f2a83b19a70b1d">GetProcessOperationID</a> (ULong64_t id_eventbrick, ULong64_t id_parent_operation, ULong64_t id_programsettings, int id_plate)</td></tr>
<tr class="separator:a2512b0e12f8036f960f2a83b19a70b1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40c620ac506bd27668a06966329a598c"><td class="memItemLeft" align="right" valign="top">Int_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTOracleServerE2.html#a40c620ac506bd27668a06966329a598c">GetProcessType</a> (char *IDPROCESS)</td></tr>
<tr class="separator:a40c620ac506bd27668a06966329a598c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acdbde6e8f9479062d08d7e9c98f9bb38"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTOracleServerE2.html#acdbde6e8f9479062d08d7e9c98f9bb38">Ostr</a> (Int_t num)</td></tr>
<tr class="separator:acdbde6e8f9479062d08d7e9c98f9bb38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abea1125c7bf85a3413c01a4d0043ed6e"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTOracleServerE2.html#abea1125c7bf85a3413c01a4d0043ed6e">Ostr</a> (ULong64_t num)</td></tr>
<tr class="separator:abea1125c7bf85a3413c01a4d0043ed6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4469a498a1083974623c2be6350564d9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="Milproto_8h.html#ad25c00c18486b3c83c838f69f1af4204">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTOracleServerE2.html#a4469a498a1083974623c2be6350564d9">Print</a> ()</td></tr>
<tr class="separator:a4469a498a1083974623c2be6350564d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aede5fe3ae31fb6ea67403fa4a996ce80"><td class="memItemLeft" align="right" valign="top"><a class="el" href="Milproto_8h.html#ad25c00c18486b3c83c838f69f1af4204">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTOracleServerE2.html#aede5fe3ae31fb6ea67403fa4a996ce80">PrintBrickInfo</a> (Long_t id_eventbrick, int level)</td></tr>
<tr class="separator:aede5fe3ae31fb6ea67403fa4a996ce80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a738392287e8f31ed2a938dece1daac21"><td class="memItemLeft" align="right" valign="top"><a class="el" href="Milproto_8h.html#ad25c00c18486b3c83c838f69f1af4204">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTOracleServerE2.html#a738392287e8f31ed2a938dece1daac21">PrintBrickInfoFull</a> (Long_t id_eventbrick, int level)</td></tr>
<tr class="separator:a738392287e8f31ed2a938dece1daac21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87e90248c4648fde2351d86b81e8d9a4"><td class="memItemLeft" align="right" valign="top">Int_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTOracleServerE2.html#a87e90248c4648fde2351d86b81e8d9a4">ReadBasetracksPattern</a> (char *selection, <a class="el" href="classEdbPattern.html">EdbPattern</a> &amp;pat)</td></tr>
<tr class="separator:a87e90248c4648fde2351d86b81e8d9a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4cd22c28ec9424f455196c3ad8a2f413"><td class="memItemLeft" align="right" valign="top">Int_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTOracleServerE2.html#a4cd22c28ec9424f455196c3ad8a2f413">ReadBrickOffset</a> (Int_t id_brick, <a class="el" href="classEdbMarksSet.html">EdbMarksSet</a> &amp;ms)</td></tr>
<tr class="separator:a4cd22c28ec9424f455196c3ad8a2f413"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc9b781c6c5b1f163c392e02e6953228"><td class="memItemLeft" align="right" valign="top">Int_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTOracleServerE2.html#abc9b781c6c5b1f163c392e02e6953228">ReadCSPredictions</a> (Int_t id_brick, <a class="el" href="classEdbPattern.html">EdbPattern</a> &amp;pred)</td></tr>
<tr class="separator:abc9b781c6c5b1f163c392e02e6953228"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad58b68341094648bd65eaf5a88ffeec8"><td class="memItemLeft" align="right" valign="top">Int_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTOracleServerE2.html#ad58b68341094648bd65eaf5a88ffeec8">ReadCSPredictions2</a> (Int_t id_brick, <a class="el" href="classEdbPattern.html">EdbPattern</a> &amp;pred)</td></tr>
<tr class="separator:ad58b68341094648bd65eaf5a88ffeec8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5bb688ae3d696582c5e7e8c5750e5698"><td class="memItemLeft" align="right" valign="top">Int_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTOracleServerE2.html#a5bb688ae3d696582c5e7e8c5750e5698">ReadCSPredictions_remote_v2</a> (Int_t id_brick, <a class="el" href="classEdbPattern.html">EdbPattern</a> &amp;pred, int csid)</td></tr>
<tr class="separator:a5bb688ae3d696582c5e7e8c5750e5698"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26b3e1c06571435b0490384806a4528f"><td class="memItemLeft" align="right" valign="top">Int_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTOracleServerE2.html#a26b3e1c06571435b0490384806a4528f">ReadDataSet</a> (ULong64_t id_parent_op, int id_brick, ULong64_t path, <a class="el" href="classEdbPatternsVolume.html">EdbPatternsVolume</a> &amp;<a class="el" href="RecDispNU_8C.html#a4c9155762f5d32076a47da7c0524baf8">vol</a>)</td></tr>
<tr class="separator:a26b3e1c06571435b0490384806a4528f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9cbf38735695cd8ddb73e89edc535892"><td class="memItemLeft" align="right" valign="top">Int_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTOracleServerE2.html#a9cbf38735695cd8ddb73e89edc535892">ReadMicrotracksPattern</a> (int id_eventbrick, char *selection, <a class="el" href="classEdbPattern.html">EdbPattern</a> &amp;pat)</td></tr>
<tr class="separator:a9cbf38735695cd8ddb73e89edc535892"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac5dc7e0696a8675c7cea1bc0092f364"><td class="memItemLeft" align="right" valign="top">Int_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTOracleServerE2.html#aac5dc7e0696a8675c7cea1bc0092f364">ReadMicrotracksZone</a> (Int_t id_eventbrick, ULong64_t id_zone, int side, TObjArray &amp;edbviews)</td></tr>
<tr class="separator:aac5dc7e0696a8675c7cea1bc0092f364"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5131f2069ed218f76691baea0f7364fb"><td class="memItemLeft" align="right" valign="top">Int_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTOracleServerE2.html#a5131f2069ed218f76691baea0f7364fb">ReadScanbackPath</a> (Int_t id_eventbrick, Int_t path, <a class="el" href="classEdbTrackP.html">EdbTrackP</a> &amp;<a class="el" href="test_8C.html#ae26ba46df9edb756f59ea5ce91b9bc43">t</a>)</td></tr>
<tr class="separator:a5131f2069ed218f76691baea0f7364fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e09ea9dccd068a5cc499572a6610ebb"><td class="memItemLeft" align="right" valign="top">Int_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTOracleServerE2.html#a8e09ea9dccd068a5cc499572a6610ebb">ReadTemplateMarks</a> (Int_t id_brick, <a class="el" href="classEdbMarksSet.html">EdbMarksSet</a> &amp;ms)</td></tr>
<tr class="separator:a8e09ea9dccd068a5cc499572a6610ebb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5bd253b74710ba43d652dadd41dc728a"><td class="memItemLeft" align="right" valign="top">Int_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTOracleServerE2.html#a5bd253b74710ba43d652dadd41dc728a">ReadVetoTracks</a> (Int_t id_brick, <a class="el" href="classEdbPattern.html">EdbPattern</a> &amp;pred)</td></tr>
<tr class="separator:a5bd253b74710ba43d652dadd41dc728a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c28a8442ced116e03ce4394a139b558"><td class="memItemLeft" align="right" valign="top">Int_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTOracleServerE2.html#a1c28a8442ced116e03ce4394a139b558">ReadViewsZone</a> (ULong64_t id_zone, int side, TObjArray &amp;edbviews)</td></tr>
<tr class="separator:a1c28a8442ced116e03ce4394a139b558"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52b6d2ce648e5a60a66009625e2bae3b"><td class="memItemLeft" align="right" valign="top">Int_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTOracleServerE2.html#a52b6d2ce648e5a60a66009625e2bae3b">ReadVolume</a> (char *id_volume, <a class="el" href="classEdbPatternsVolume.html">EdbPatternsVolume</a> &amp;<a class="el" href="RecDispNU_8C.html#a4c9155762f5d32076a47da7c0524baf8">vol</a>)</td></tr>
<tr class="separator:a52b6d2ce648e5a60a66009625e2bae3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e852ab60582f22bd8f4339b140ff678"><td class="memItemLeft" align="right" valign="top">Int_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTOracleServerE2.html#a3e852ab60582f22bd8f4339b140ff678">ReadVolume</a> (char *id_volume, <a class="el" href="classEdbPatternsVolume.html">EdbPatternsVolume</a> &amp;<a class="el" href="RecDispNU_8C.html#a4c9155762f5d32076a47da7c0524baf8">vol</a>, Int_t <a class="el" href="bitview_8cxx.html#a6daff2382eb041057cd8970a2f619c3f">min</a>, Int_t <a class="el" href="bitview_8cxx.html#ad6a7ddeeb4f8b5af25325d38ba5f1b90">max</a>)</td></tr>
<tr class="separator:a3e852ab60582f22bd8f4339b140ff678"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed42fd8ddf0604cd764f50ed1c38abcf"><td class="memItemLeft" align="right" valign="top">Int_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTOracleServerE2.html#aed42fd8ddf0604cd764f50ed1c38abcf">ReadVolume</a> (ULong64_t id_volume, <a class="el" href="classEdbPatternsVolume.html">EdbPatternsVolume</a> &amp;<a class="el" href="RecDispNU_8C.html#a4c9155762f5d32076a47da7c0524baf8">vol</a>)</td></tr>
<tr class="separator:aed42fd8ddf0604cd764f50ed1c38abcf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3e8d7c8ff6ad5a70c1da2c8533afc29"><td class="memItemLeft" align="right" valign="top">Int_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTOracleServerE2.html#af3e8d7c8ff6ad5a70c1da2c8533afc29">ReadVolume</a> (ULong64_t id_volume, <a class="el" href="classEdbPatternsVolume.html">EdbPatternsVolume</a> &amp;<a class="el" href="RecDispNU_8C.html#a4c9155762f5d32076a47da7c0524baf8">vol</a>, Int_t min_pl, Int_t max_pl)</td></tr>
<tr class="separator:af3e8d7c8ff6ad5a70c1da2c8533afc29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad8aa3e790f83ed9fea59ad15a5306e4"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTOracleServerE2.html#aad8aa3e790f83ed9fea59ad15a5306e4">ReadZplate</a> (int id_plate, int id_eventbrick, <a class="el" href="classEdbPattern.html">EdbPattern</a> &amp;pat)</td></tr>
<tr class="separator:aad8aa3e790f83ed9fea59ad15a5306e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab61d584e0fe6b320a08ebec12e774958"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTOracleServerE2.html#ab61d584e0fe6b320a08ebec12e774958">ReadZplate_nominal</a> (int id_plate, int id_eventbrick, <a class="el" href="classEdbPattern.html">EdbPattern</a> &amp;pat)</td></tr>
<tr class="separator:ab61d584e0fe6b320a08ebec12e774958"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8a91f2b3293b37a95e6284ef4ab7def"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTOracleServerE2.html#ac8a91f2b3293b37a95e6284ef4ab7def">TOracleServerE2</a> (const char *<a class="el" href="test__oracle_8C.html#aca9b28b8d912cae0f6d6a01588d36e35">db</a>, const char *uid, const char *pw)</td></tr>
<tr class="separator:ac8a91f2b3293b37a95e6284ef4ab7def"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e9adf681c7c32b3c4f845f780dbc5c8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTOracleServerE2.html#a5e9adf681c7c32b3c4f845f780dbc5c8">~TOracleServerE2</a> ()</td></tr>
<tr class="separator:a5e9adf681c7c32b3c4f845f780dbc5c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classTOracleServer"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classTOracleServer')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classTOracleServer.html">TOracleServer</a></td></tr>
<tr class="memitem:a34f5f9bb8308904d00cb246b7047c6f5 inherit pub_methods_classTOracleServer"><td class="memItemLeft" align="right" valign="top"><a class="el" href="Milproto_8h.html#ad25c00c18486b3c83c838f69f1af4204">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTOracleServer.html#a34f5f9bb8308904d00cb246b7047c6f5">Close</a> (Option_t *<a class="el" href="mc2raw_8cxx.html#a589d9395f3d6cc7a3bb3cb7443508ca4">opt</a>=&quot;&quot;)</td></tr>
<tr class="separator:a34f5f9bb8308904d00cb246b7047c6f5 inherit pub_methods_classTOracleServer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34b185535586e45a4436034e275afd5c inherit pub_methods_classTOracleServer"><td class="memItemLeft" align="right" valign="top">Int_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTOracleServer.html#a34b185535586e45a4436034e275afd5c">CreateDataBase</a> (const char *dbname)</td></tr>
<tr class="separator:a34b185535586e45a4436034e275afd5c inherit pub_methods_classTOracleServer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6842a97816455c520348ce781999e2ca inherit pub_methods_classTOracleServer"><td class="memItemLeft" align="right" valign="top">Int_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTOracleServer.html#a6842a97816455c520348ce781999e2ca">DropDataBase</a> (const char *dbname)</td></tr>
<tr class="separator:a6842a97816455c520348ce781999e2ca inherit pub_methods_classTOracleServer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaee3dc64ac585124cd7702abe453e96f inherit pub_methods_classTOracleServer"><td class="memItemLeft" align="right" valign="top">TSQLResult *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTOracleServer.html#aaee3dc64ac585124cd7702abe453e96f">GetColumns</a> (const char *dbname, const char *table, const char *wild=0)</td></tr>
<tr class="separator:aaee3dc64ac585124cd7702abe453e96f inherit pub_methods_classTOracleServer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9540ba48644eba8ead22441b540b3cf7 inherit pub_methods_classTOracleServer"><td class="memItemLeft" align="right" valign="top">TSQLResult *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTOracleServer.html#a9540ba48644eba8ead22441b540b3cf7">GetDataBases</a> (const char *wild=0)</td></tr>
<tr class="separator:a9540ba48644eba8ead22441b540b3cf7 inherit pub_methods_classTOracleServer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7bb299b28c3294e958b2f27bc87b8142 inherit pub_methods_classTOracleServer"><td class="memItemLeft" align="right" valign="top">TSQLResult *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTOracleServer.html#a7bb299b28c3294e958b2f27bc87b8142">GetTables</a> (const char *dbname, const char *wild=0)</td></tr>
<tr class="separator:a7bb299b28c3294e958b2f27bc87b8142 inherit pub_methods_classTOracleServer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a750cd3a0ceef30c51f3c6ef06ea2b202 inherit pub_methods_classTOracleServer"><td class="memItemLeft" align="right" valign="top">Int_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTOracleServer.html#a750cd3a0ceef30c51f3c6ef06ea2b202">PrintResult</a> ()</td></tr>
<tr class="separator:a750cd3a0ceef30c51f3c6ef06ea2b202 inherit pub_methods_classTOracleServer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a841043b257bbbe90959773584db3a62f inherit pub_methods_classTOracleServer"><td class="memItemLeft" align="right" valign="top">Int_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTOracleServer.html#a841043b257bbbe90959773584db3a62f">PrintResultStr</a> (TString &amp;result)</td></tr>
<tr class="separator:a841043b257bbbe90959773584db3a62f inherit pub_methods_classTOracleServer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2be47a4c47244bd22d6f309601c4638d inherit pub_methods_classTOracleServer"><td class="memItemLeft" align="right" valign="top">TSQLResult *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTOracleServer.html#a2be47a4c47244bd22d6f309601c4638d">Query</a> (const char *sql)</td></tr>
<tr class="separator:a2be47a4c47244bd22d6f309601c4638d inherit pub_methods_classTOracleServer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75cf85f244acdbcb2d7666e785058d89 inherit pub_methods_classTOracleServer"><td class="memItemLeft" align="right" valign="top">Int_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTOracleServer.html#a75cf85f244acdbcb2d7666e785058d89">QueryTree</a> (char *query, TTree *tree, char *leafs=0)</td></tr>
<tr class="separator:a75cf85f244acdbcb2d7666e785058d89 inherit pub_methods_classTOracleServer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1be1529f9a1dc41d7bea319f6cf94b50 inherit pub_methods_classTOracleServer"><td class="memItemLeft" align="right" valign="top">Int_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTOracleServer.html#a1be1529f9a1dc41d7bea319f6cf94b50">Reload</a> ()</td></tr>
<tr class="separator:a1be1529f9a1dc41d7bea319f6cf94b50 inherit pub_methods_classTOracleServer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae029329798183054aa0c71f65b59cd9f inherit pub_methods_classTOracleServer"><td class="memItemLeft" align="right" valign="top">Int_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTOracleServer.html#ae029329798183054aa0c71f65b59cd9f">SelectDataBase</a> (const char *dbname)</td></tr>
<tr class="separator:ae029329798183054aa0c71f65b59cd9f inherit pub_methods_classTOracleServer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5eae7d3ad6b63f59412fca2004d38ae5 inherit pub_methods_classTOracleServer"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTOracleServer.html#a5eae7d3ad6b63f59412fca2004d38ae5">ServerInfo</a> ()</td></tr>
<tr class="separator:a5eae7d3ad6b63f59412fca2004d38ae5 inherit pub_methods_classTOracleServer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8a9c6eda3d17e53314a26ed3b18cb5f inherit pub_methods_classTOracleServer"><td class="memItemLeft" align="right" valign="top">Int_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTOracleServer.html#af8a9c6eda3d17e53314a26ed3b18cb5f">Shutdown</a> ()</td></tr>
<tr class="separator:af8a9c6eda3d17e53314a26ed3b18cb5f inherit pub_methods_classTOracleServer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0f0970dc59c62e39abcb831dc3a7aaf inherit pub_methods_classTOracleServer"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTOracleServer.html#ae0f0970dc59c62e39abcb831dc3a7aaf">TOracleServer</a> (const char *<a class="el" href="test__oracle_8C.html#aca9b28b8d912cae0f6d6a01588d36e35">db</a>, const char *uid, const char *pw)</td></tr>
<tr class="separator:ae0f0970dc59c62e39abcb831dc3a7aaf inherit pub_methods_classTOracleServer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50fb2bcacb254158d7beab7f85df1962 inherit pub_methods_classTOracleServer"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTOracleServer.html#a50fb2bcacb254158d7beab7f85df1962">~TOracleServer</a> ()</td></tr>
<tr class="separator:a50fb2bcacb254158d7beab7f85df1962 inherit pub_methods_classTOracleServer"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a20ccaf6deeb3f799267619e16df37c8e"><td class="memItemLeft" align="right" valign="top">TString&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTOracleServerE2.html#a20ccaf6deeb3f799267619e16df37c8e">eRTS</a></td></tr>
<tr class="separator:a20ccaf6deeb3f799267619e16df37c8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ac8a91f2b3293b37a95e6284ef4ab7def"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8a91f2b3293b37a95e6284ef4ab7def">&#9670;&nbsp;</a></span>TOracleServerE2()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">TOracleServerE2::TOracleServerE2 </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>uid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pw</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;                                                                  :</div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;    <a class="code" href="classTOracleServer.html#ae0f0970dc59c62e39abcb831dc3a7aaf">TOracleServer</a>(<a class="code" href="test__oracle_8C.html#aca9b28b8d912cae0f6d6a01588d36e35">db</a>, uid, pw){}</div>
<div class="ttc" id="aclassTOracleServer_html_ae0f0970dc59c62e39abcb831dc3a7aaf"><div class="ttname"><a href="classTOracleServer.html#ae0f0970dc59c62e39abcb831dc3a7aaf">TOracleServer::TOracleServer</a></div><div class="ttdeci">TOracleServer(const char *db, const char *uid, const char *pw)</div></div>
<div class="ttc" id="atest__oracle_8C_html_aca9b28b8d912cae0f6d6a01588d36e35"><div class="ttname"><a href="test__oracle_8C.html#aca9b28b8d912cae0f6d6a01588d36e35">db</a></div><div class="ttdeci">TOracleServerE * db</div><div class="ttdef"><b>Definition:</b> test_oracle.C:8</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5e9adf681c7c32b3c4f845f780dbc5c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e9adf681c7c32b3c4f845f780dbc5c8">&#9670;&nbsp;</a></span>~TOracleServerE2()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">TOracleServerE2::~TOracleServerE2 </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;{}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a818b40ef093b6e8c18f611aa05d26633"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a818b40ef093b6e8c18f611aa05d26633">&#9670;&nbsp;</a></span>ConvertMicrotracksDataSetToEdb()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Int_t TOracleServerE2::ConvertMicrotracksDataSetToEdb </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>query</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>outdir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>major</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>minor</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>structure_only</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;{</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;  <span class="comment">// Input: query providing the list of zones to be extracted</span></div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;  <span class="comment">//        outdir - where to write the dataset</span></div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;  <span class="comment">//        major,minor - versions for the files names like: brick.plate,major.minor.raw.root</span></div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160; </div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;  <span class="comment">//check if outdir is accessible:</span></div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;  <a class="code" href="classEdbScanProc.html">EdbScanProc</a> <a class="code" href="comptonmap_8cpp.html#ae27d36d8c7e68123cbb493c742920f5a">sproc</a>;</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;  <span class="keywordflow">if</span>(!<a class="code" href="comptonmap_8cpp.html#ae27d36d8c7e68123cbb493c742920f5a">sproc</a>.<a class="code" href="classEdbScanProc.html#a8a23b56a24c99e8cea6b001a6d07360c">CheckDirWritable</a>(<a class="code" href="emrec_8cpp.html#abb8a075674b43678714bafe11798d10e">outdir</a>))     <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;  <a class="code" href="classEdbScanSet.html">EdbScanSet</a>  <a class="code" href="energy_8C.html#a8f60c8102d29fcd525162d02eed4566b">ss</a>;</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160; </div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;  <span class="keywordtype">int</span>  nviewtot=0;</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;  std::map&lt;int,ULong64_t&gt; pl_zones;</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="RecDispMC_8C.html#a9c17c69ba70b395ab079a56d5fe24450">brick</a> =-999, <a class="code" href="merge__Energy__SytematicSources__Electron_8C.html#a120e8eebe88c70d8763b145e800984dc">plate</a>=0;</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;  ULong64_t zone=0;</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;  Float_t   z=0;</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160; </div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;  <span class="keywordflow">try</span>{</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>)      <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a> = <a class="code" href="classTOracleServer.html#a25a4dd472f3dcdaaa5cb45710a9dc074">fConn</a>-&gt;createStatement();</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;    <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>-&gt;setSQL(query);</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;    <a class="code" href="EdbLog_8cxx.html#a1134cd5954374a4bd1ead6fcade87e93">Log</a>(2,<span class="stringliteral">&quot;ConvertMicrotracksDataSetToEdb&quot;</span>,<span class="stringliteral">&quot;execute sql query: %s ...&quot;</span>,query);</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;    <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>-&gt;execute();</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;    ResultSet *rs = <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>-&gt;getResultSet();</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;    <span class="keywordflow">while</span> (rs-&gt;next()){</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;      sscanf( (rs-&gt;getString(1)).c_str(),<span class="stringliteral">&quot;%d&quot;</span>  , &amp;<a class="code" href="RecDispMC_8C.html#a9c17c69ba70b395ab079a56d5fe24450">brick</a> );</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;      sscanf( (rs-&gt;getString(2)).c_str(),<span class="stringliteral">&quot;%d&quot;</span>  , &amp;<a class="code" href="merge__Energy__SytematicSources__Electron_8C.html#a120e8eebe88c70d8763b145e800984dc">plate</a> );</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;      sscanf( (rs-&gt;getString(3)).c_str(),<span class="stringliteral">&quot;%lld&quot;</span>, &amp;zone );</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;      sscanf( (rs-&gt;getString(4)).c_str(),<span class="stringliteral">&quot;%f&quot;</span>  , &amp;z );</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;      pl_zones[<a class="code" href="merge__Energy__SytematicSources__Electron_8C.html#a120e8eebe88c70d8763b145e800984dc">plate</a>]=zone;</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160; </div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;      <a class="code" href="classEdbPlateP.html">EdbPlateP</a> *plt = <span class="keyword">new</span> <a class="code" href="classEdbPlateP.html">EdbPlateP</a>();</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;      plt-&gt;<a class="code" href="classEdbLayer.html#aa5b4738370b12cc6d79a6d8cdacaa088">SetID</a>(<a class="code" href="merge__Energy__SytematicSources__Electron_8C.html#a120e8eebe88c70d8763b145e800984dc">plate</a>);</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;      plt-&gt;<a class="code" href="classEdbLayer.html#a8c82fe17d5ceecdd68f0e9a03dfef49a">SetZlayer</a>(z,z-150,z+150);</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;      <a class="code" href="energy_8C.html#a8f60c8102d29fcd525162d02eed4566b">ss</a>.eB.AddPlate(plt);</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;      <a class="code" href="energy_8C.html#a8f60c8102d29fcd525162d02eed4566b">ss</a>.eIDS.Add(<span class="keyword">new</span> <a class="code" href="classEdbID.html">EdbID</a>(<a class="code" href="RecDispMC_8C.html#a9c17c69ba70b395ab079a56d5fe24450">brick</a>,<a class="code" href="merge__Energy__SytematicSources__Electron_8C.html#a120e8eebe88c70d8763b145e800984dc">plate</a>,major,minor));</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;    }</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;  } <span class="keywordflow">catch</span> (SQLException &amp;oraex) {</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;    Error(<span class="stringliteral">&quot;TOracleServerE&quot;</span>, <span class="stringliteral">&quot;ConvertMicrotracksDataSetToEdb: failed: (error: %s)&quot;</span>, (oraex.getMessage()).c_str());</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;  }</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;    </div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;  <a class="code" href="EdbLog_8cxx.html#a1134cd5954374a4bd1ead6fcade87e93">Log</a>(1,<span class="stringliteral">&quot;ConvertMicrotracksDataSetToEdb&quot;</span>,<span class="stringliteral">&quot;found ScanSet: %d %d %d %d with %d plates&quot;</span>,<a class="code" href="RecDispMC_8C.html#a9c17c69ba70b395ab079a56d5fe24450">brick</a>,0,major,minor,<a class="code" href="energy_8C.html#a8f60c8102d29fcd525162d02eed4566b">ss</a>.eB.Npl() );</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160; </div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;  <a class="code" href="comptonmap_8cpp.html#ae27d36d8c7e68123cbb493c742920f5a">sproc</a>.<a class="code" href="classEdbScanProc.html#ae25b89be778d336d597879d198d16447">eProcDirClient</a>=<a class="code" href="emrec_8cpp.html#abb8a075674b43678714bafe11798d10e">outdir</a>;</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;  <span class="keywordtype">int</span> <span class="keywordtype">id</span>[4]={<a class="code" href="RecDispMC_8C.html#a9c17c69ba70b395ab079a56d5fe24450">brick</a>,0,major,minor};</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;  <a class="code" href="energy_8C.html#a8f60c8102d29fcd525162d02eed4566b">ss</a>.eB.SetID(<a class="code" href="RecDispMC_8C.html#a9c17c69ba70b395ab079a56d5fe24450">brick</a>);</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;  <a class="code" href="energy_8C.html#a8f60c8102d29fcd525162d02eed4566b">ss</a>.MakePIDList();</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="energy_8C.html#a31923dd9a295452a541aa1dad0669072">gEDBDEBUGLEVEL</a>&gt;2) <a class="code" href="energy_8C.html#a8f60c8102d29fcd525162d02eed4566b">ss</a>.Print();</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;  <a class="code" href="comptonmap_8cpp.html#ae27d36d8c7e68123cbb493c742920f5a">sproc</a>.<a class="code" href="classEdbScanProc.html#a761bf222dbc52a9188660ffb5ae8bf4f">WriteScanSet</a>(<span class="keywordtype">id</span>,<a class="code" href="energy_8C.html#a8f60c8102d29fcd525162d02eed4566b">ss</a>);</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;  <a class="code" href="comptonmap_8cpp.html#ae27d36d8c7e68123cbb493c742920f5a">sproc</a>.<a class="code" href="classEdbScanProc.html#aa696872cc17bacbd85fc174a9c8cd20b">MakeAFFSet</a>(<a class="code" href="energy_8C.html#a8f60c8102d29fcd525162d02eed4566b">ss</a>);</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160; </div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;  <span class="keywordflow">if</span>(!structure_only) {</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;<span class="comment">//    int plate0 =-999;</span></div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;    <a class="code" href="classEdbRun.html">EdbRun</a> *<a class="code" href="macros__root6_2check__raw_8C.html#ac295771b9595f4134610b79353c979d3">run</a>=0;</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;    <a class="code" href="namespaceVERTEX.html#a8be7c7bc59f6e75e0478b646d694d787">map&lt;int,ULong64_t&gt;::const_iterator</a> iter;</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;    <span class="keywordflow">for</span> (iter=pl_zones.begin(); iter != pl_zones.end(); ++iter) {</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;      <a class="code" href="merge__Energy__SytematicSources__Electron_8C.html#a120e8eebe88c70d8763b145e800984dc">plate</a>= iter-&gt;first;</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;      zone = iter-&gt;second;</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;      <a class="code" href="EdbLog_8cxx.html#a1134cd5954374a4bd1ead6fcade87e93">Log</a>(2,<span class="stringliteral">&quot;ConvertMicrotracksDataSetToEdb&quot;</span>,<span class="stringliteral">&quot;for plate: %d read zone: %lld&quot;</span>, <a class="code" href="merge__Energy__SytematicSources__Electron_8C.html#a120e8eebe88c70d8763b145e800984dc">plate</a>,zone);</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;      <span class="keywordtype">id</span>[0] = <a class="code" href="RecDispMC_8C.html#a9c17c69ba70b395ab079a56d5fe24450">brick</a>; <span class="keywordtype">id</span>[1]=<a class="code" href="merge__Energy__SytematicSources__Electron_8C.html#a120e8eebe88c70d8763b145e800984dc">plate</a>; <span class="keywordtype">id</span>[2]=major; <span class="keywordtype">id</span>[3]=minor;</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;      <span class="comment">/*          // it seems that update is never required so - comment out</span></div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;<span class="comment">      TString str; sproc.MakeFileName(str,id,&quot;raw.root&quot;);</span></div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;<span class="comment">      sproc.CheckProcDir(id);</span></div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;<span class="comment">      if(plate!=plate0) {</span></div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;<span class="comment">    plate0=plate;</span></div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;<span class="comment">    run = new EdbRun(str.Data(),&quot;RECREATE&quot;);</span></div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;<span class="comment">      } else run = new EdbRun(str.Data(),&quot;UPDATE&quot;);</span></div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;<span class="comment">      */</span></div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;      <a class="code" href="macros__root6_2check__raw_8C.html#ac295771b9595f4134610b79353c979d3">run</a>=<a class="code" href="comptonmap_8cpp.html#ae27d36d8c7e68123cbb493c742920f5a">sproc</a>.<a class="code" href="classEdbScanProc.html#a91158e239c409c6bb33c76f6659669b9">InitRun</a>(<span class="keywordtype">id</span>);     <span class="comment">// in case of more zones in the same plate - create *root.save files so one can resolve manually</span></div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;      <span class="keywordflow">if</span>(<a class="code" href="macros__root6_2check__raw_8C.html#ac295771b9595f4134610b79353c979d3">run</a>) {</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;        nviewtot+=<a class="code" href="classTOracleServerE2.html#a0b83db1ceeafb8b0bdec86822cdfce58">ConvertMicrotracksZoneToEdb</a>(<a class="code" href="RecDispMC_8C.html#a9c17c69ba70b395ab079a56d5fe24450">brick</a>,zone,*<a class="code" href="macros__root6_2check__raw_8C.html#ac295771b9595f4134610b79353c979d3">run</a>);</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;        <a class="code" href="macros__root6_2check__raw_8C.html#ac295771b9595f4134610b79353c979d3">run</a>-&gt;<a class="code" href="classEdbRun.html#a090c80a724b1a6f3cf03e3163d68965e">Close</a>();      SafeDelete(<a class="code" href="macros__root6_2check__raw_8C.html#ac295771b9595f4134610b79353c979d3">run</a>);</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;      }</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;    }</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160; </div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;  }</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;  <a class="code" href="EdbLog_8cxx.html#a1134cd5954374a4bd1ead6fcade87e93">Log</a>(1,<span class="stringliteral">&quot;ConvertMicrotracksDataSetToEdb&quot;</span>,<span class="stringliteral">&quot;%d views are extracted from db for the brick %d&quot;</span>,nviewtot,<a class="code" href="RecDispMC_8C.html#a9c17c69ba70b395ab079a56d5fe24450">brick</a>);</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;  <span class="keywordflow">return</span> nviewtot;</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;}</div>
<div class="ttc" id="aEdbLog_8cxx_html_a1134cd5954374a4bd1ead6fcade87e93"><div class="ttname"><a href="EdbLog_8cxx.html#a1134cd5954374a4bd1ead6fcade87e93">Log</a></div><div class="ttdeci">bool Log(int level, const char *location, const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> EdbLog.cxx:75</div></div>
<div class="ttc" id="aRecDispMC_8C_html_a9c17c69ba70b395ab079a56d5fe24450"><div class="ttname"><a href="RecDispMC_8C.html#a9c17c69ba70b395ab079a56d5fe24450">brick</a></div><div class="ttdeci">BRICK brick</div><div class="ttdef"><b>Definition:</b> RecDispMC.C:103</div></div>
<div class="ttc" id="aclassEdbID_html"><div class="ttname"><a href="classEdbID.html">EdbID</a></div><div class="ttdef"><b>Definition:</b> EdbID.h:7</div></div>
<div class="ttc" id="aclassEdbLayer_html_a8c82fe17d5ceecdd68f0e9a03dfef49a"><div class="ttname"><a href="classEdbLayer.html#a8c82fe17d5ceecdd68f0e9a03dfef49a">EdbLayer::SetZlayer</a></div><div class="ttdeci">void SetZlayer(float z, float zmin, float zmax)</div><div class="ttdef"><b>Definition:</b> EdbLayer.h:102</div></div>
<div class="ttc" id="aclassEdbLayer_html_aa5b4738370b12cc6d79a6d8cdacaa088"><div class="ttname"><a href="classEdbLayer.html#aa5b4738370b12cc6d79a6d8cdacaa088">EdbLayer::SetID</a></div><div class="ttdeci">void SetID(int id)</div><div class="ttdef"><b>Definition:</b> EdbLayer.h:95</div></div>
<div class="ttc" id="aclassEdbPlateP_html"><div class="ttname"><a href="classEdbPlateP.html">EdbPlateP</a></div><div class="ttdef"><b>Definition:</b> EdbBrick.h:13</div></div>
<div class="ttc" id="aclassEdbRun_html"><div class="ttname"><a href="classEdbRun.html">EdbRun</a></div><div class="ttdef"><b>Definition:</b> EdbRun.h:74</div></div>
<div class="ttc" id="aclassEdbRun_html_a090c80a724b1a6f3cf03e3163d68965e"><div class="ttname"><a href="classEdbRun.html#a090c80a724b1a6f3cf03e3163d68965e">EdbRun::Close</a></div><div class="ttdeci">void Close()</div><div class="ttdef"><b>Definition:</b> EdbRun.cxx:466</div></div>
<div class="ttc" id="aclassEdbScanProc_html"><div class="ttname"><a href="classEdbScanProc.html">EdbScanProc</a></div><div class="ttdef"><b>Definition:</b> EdbScanProc.h:12</div></div>
<div class="ttc" id="aclassEdbScanProc_html_a761bf222dbc52a9188660ffb5ae8bf4f"><div class="ttname"><a href="classEdbScanProc.html#a761bf222dbc52a9188660ffb5ae8bf4f">EdbScanProc::WriteScanSet</a></div><div class="ttdeci">int WriteScanSet(EdbID id, EdbScanSet &amp;ss)</div><div class="ttdef"><b>Definition:</b> EdbScanProc.cxx:1467</div></div>
<div class="ttc" id="aclassEdbScanProc_html_a8a23b56a24c99e8cea6b001a6d07360c"><div class="ttname"><a href="classEdbScanProc.html#a8a23b56a24c99e8cea6b001a6d07360c">EdbScanProc::CheckDirWritable</a></div><div class="ttdeci">bool CheckDirWritable(const char *dir)</div><div class="ttdef"><b>Definition:</b> EdbScanProc.cxx:1801</div></div>
<div class="ttc" id="aclassEdbScanProc_html_a91158e239c409c6bb33c76f6659669b9"><div class="ttname"><a href="classEdbScanProc.html#a91158e239c409c6bb33c76f6659669b9">EdbScanProc::InitRun</a></div><div class="ttdeci">EdbRun * InitRun(int id[4], char *runname_=NULL, char *runnamesrv_=NULL, bool createrun_=true)</div><div class="ttdef"><b>Definition:</b> EdbScanProc.cxx:1985</div></div>
<div class="ttc" id="aclassEdbScanProc_html_aa696872cc17bacbd85fc174a9c8cd20b"><div class="ttname"><a href="classEdbScanProc.html#aa696872cc17bacbd85fc174a9c8cd20b">EdbScanProc::MakeAFFSet</a></div><div class="ttdeci">bool MakeAFFSet(EdbScanSet &amp;sc)</div><div class="ttdef"><b>Definition:</b> EdbScanProc.cxx:394</div></div>
<div class="ttc" id="aclassEdbScanProc_html_ae25b89be778d336d597879d198d16447"><div class="ttname"><a href="classEdbScanProc.html#ae25b89be778d336d597879d198d16447">EdbScanProc::eProcDirClient</a></div><div class="ttdeci">TString eProcDirClient</div><div class="ttdef"><b>Definition:</b> EdbScanProc.h:14</div></div>
<div class="ttc" id="aclassEdbScanSet_html"><div class="ttname"><a href="classEdbScanSet.html">EdbScanSet</a></div><div class="ttdef"><b>Definition:</b> EdbScanSet.h:11</div></div>
<div class="ttc" id="aclassTOracleServerE2_html_a0b83db1ceeafb8b0bdec86822cdfce58"><div class="ttname"><a href="classTOracleServerE2.html#a0b83db1ceeafb8b0bdec86822cdfce58">TOracleServerE2::ConvertMicrotracksZoneToEdb</a></div><div class="ttdeci">Int_t ConvertMicrotracksZoneToEdb(Int_t id_eventbrick, ULong64_t id_zone, EdbRun &amp;run)</div><div class="ttdef"><b>Definition:</b> TOracleServerE2.cxx:690</div></div>
<div class="ttc" id="aclassTOracleServer_html_a25a4dd472f3dcdaaa5cb45710a9dc074"><div class="ttname"><a href="classTOracleServer.html#a25a4dd472f3dcdaaa5cb45710a9dc074">TOracleServer::fConn</a></div><div class="ttdeci">Connection * fConn</div><div class="ttdef"><b>Definition:</b> TOracleServer.h:48</div></div>
<div class="ttc" id="aclassTOracleServer_html_a32ee50ec71a48adcedc797157ea60602"><div class="ttname"><a href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">TOracleServer::fStmt</a></div><div class="ttdeci">oracle::occi::Statement * fStmt</div><div class="ttdef"><b>Definition:</b> TOracleServer.h:52</div></div>
<div class="ttc" id="acomptonmap_8cpp_html_ae27d36d8c7e68123cbb493c742920f5a"><div class="ttname"><a href="comptonmap_8cpp.html#ae27d36d8c7e68123cbb493c742920f5a">sproc</a></div><div class="ttdeci">EdbScanProc * sproc</div><div class="ttdef"><b>Definition:</b> comptonmap.cpp:29</div></div>
<div class="ttc" id="aemrec_8cpp_html_abb8a075674b43678714bafe11798d10e"><div class="ttname"><a href="emrec_8cpp.html#abb8a075674b43678714bafe11798d10e">outdir</a></div><div class="ttdeci">const char * outdir</div><div class="ttdef"><b>Definition:</b> emrec.cpp:37</div></div>
<div class="ttc" id="aenergy_8C_html_a31923dd9a295452a541aa1dad0669072"><div class="ttname"><a href="energy_8C.html#a31923dd9a295452a541aa1dad0669072">gEDBDEBUGLEVEL</a></div><div class="ttdeci">gEDBDEBUGLEVEL</div><div class="ttdef"><b>Definition:</b> energy.C:7</div></div>
<div class="ttc" id="aenergy_8C_html_a8f60c8102d29fcd525162d02eed4566b"><div class="ttname"><a href="energy_8C.html#a8f60c8102d29fcd525162d02eed4566b">ss</a></div><div class="ttdeci">ss</div><div class="ttdef"><b>Definition:</b> energy.C:62</div></div>
<div class="ttc" id="amacros__root6_2check__raw_8C_html_ac295771b9595f4134610b79353c979d3"><div class="ttname"><a href="macros__root6_2check__raw_8C.html#ac295771b9595f4134610b79353c979d3">run</a></div><div class="ttdeci">EdbRun * run</div><div class="ttdef"><b>Definition:</b> check_raw.C:38</div></div>
<div class="ttc" id="amerge__Energy__SytematicSources__Electron_8C_html_a120e8eebe88c70d8763b145e800984dc"><div class="ttname"><a href="merge__Energy__SytematicSources__Electron_8C.html#a120e8eebe88c70d8763b145e800984dc">plate</a></div><div class="ttdeci">Int_t plate</div><div class="ttdef"><b>Definition:</b> merge_Energy_SytematicSources_Electron.C:1</div></div>
<div class="ttc" id="anamespaceVERTEX_html_a8be7c7bc59f6e75e0478b646d694d787"><div class="ttname"><a href="namespaceVERTEX.html#a8be7c7bc59f6e75e0478b646d694d787">VERTEX::const_iterator</a></div><div class="ttdeci">ConstRelationIterator const_iterator</div><div class="ttdef"><b>Definition:</b> VtRelationList.hh:54</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a93dd3154d9c54b323414cb5f9cea4abf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93dd3154d9c54b323414cb5f9cea4abf">&#9670;&nbsp;</a></span>ConvertMicrotracksParentProcessToEdb()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Int_t TOracleServerE2::ConvertMicrotracksParentProcessToEdb </td>
          <td>(</td>
          <td class="paramtype">ULong64_t&#160;</td>
          <td class="paramname"><em>parentprocessoperation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>outdir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>major</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>minor</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>structure_only</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;{</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;  <span class="keywordtype">char</span> query[2048];</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;   sprintf(query,<span class="stringliteral">&quot;\</span></div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;<span class="stringliteral">   select tz.id_eventbrick,tz.id_plate,tz.ID,tp.Z \</span></div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;<span class="stringliteral">    from TB_ZONES%s tz, TB_PLATES%s tp, tb_proc_operations%s op where \</span></div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;<span class="stringliteral">    tz.id_eventbrick=tp.id_eventbrick and op.id_eventbrick=tp.id_eventbrick and \</span></div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;<span class="stringliteral">    op.id_parent_operation=%lld and tz.id_plate=tp.id and tp.id=op.id_plate and tz.ID_PROCESSOPERATION=op.id \</span></div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;<span class="stringliteral">    order by tp.id&quot;</span>,</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;   <a class="code" href="classTOracleServerE2.html#a20ccaf6deeb3f799267619e16df37c8e">eRTS</a>.Data(),<a class="code" href="classTOracleServerE2.html#a20ccaf6deeb3f799267619e16df37c8e">eRTS</a>.Data(),<a class="code" href="classTOracleServerE2.html#a20ccaf6deeb3f799267619e16df37c8e">eRTS</a>.Data(), processoperation);</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;  </div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;  <span class="keywordtype">int</span> nv= <a class="code" href="classTOracleServerE2.html#a818b40ef093b6e8c18f611aa05d26633">ConvertMicrotracksDataSetToEdb</a>( query, <a class="code" href="emrec_8cpp.html#abb8a075674b43678714bafe11798d10e">outdir</a>, major, minor, structure_only );</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;  <a class="code" href="EdbLog_8cxx.html#a1134cd5954374a4bd1ead6fcade87e93">Log</a>(1,<span class="stringliteral">&quot;ConvertMicrotracksProcessToEdb&quot;</span>,<span class="stringliteral">&quot;%d views are extracted from db for the processoperation %lld&quot;</span>,nv,processoperation);</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;  <span class="keywordflow">return</span> nv;</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;}</div>
<div class="ttc" id="aclassTOracleServerE2_html_a20ccaf6deeb3f799267619e16df37c8e"><div class="ttname"><a href="classTOracleServerE2.html#a20ccaf6deeb3f799267619e16df37c8e">TOracleServerE2::eRTS</a></div><div class="ttdeci">TString eRTS</div><div class="ttdef"><b>Definition:</b> TOracleServerE2.h:16</div></div>
<div class="ttc" id="aclassTOracleServerE2_html_a818b40ef093b6e8c18f611aa05d26633"><div class="ttname"><a href="classTOracleServerE2.html#a818b40ef093b6e8c18f611aa05d26633">TOracleServerE2::ConvertMicrotracksDataSetToEdb</a></div><div class="ttdeci">Int_t ConvertMicrotracksDataSetToEdb(const char *query, const char *outdir, int major=0, int minor=0, bool structure_only=false)</div><div class="ttdef"><b>Definition:</b> TOracleServerE2.cxx:858</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7bcb2bf9fd6b4bf5cbca865b9d346197"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7bcb2bf9fd6b4bf5cbca865b9d346197">&#9670;&nbsp;</a></span>ConvertMicrotracksProcessToEdb()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Int_t TOracleServerE2::ConvertMicrotracksProcessToEdb </td>
          <td>(</td>
          <td class="paramtype">ULong64_t&#160;</td>
          <td class="paramname"><em>processoperation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>outdir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>major</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>minor</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>structure_only</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;{  </div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;  <span class="keywordtype">char</span> query[2048];</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;   sprintf(query,<span class="stringliteral">&quot;\</span></div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;<span class="stringliteral">    select tz.id_eventbrick,tz.id_plate,tz.ID,tp.Z from TB_ZONES%s tz, TB_PLATES%s tp where \</span></div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;<span class="stringliteral">    tz.id_processoperation=%lld and tz.id_eventbrick=tp.id_eventbrick and tz.id_plate=tp.id order by tp.id&quot;</span>,</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;        <a class="code" href="classTOracleServerE2.html#a20ccaf6deeb3f799267619e16df37c8e">eRTS</a>.Data(),</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;        <a class="code" href="classTOracleServerE2.html#a20ccaf6deeb3f799267619e16df37c8e">eRTS</a>.Data(),</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;        processoperation);</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;  <span class="keywordtype">int</span> nv= <a class="code" href="classTOracleServerE2.html#a818b40ef093b6e8c18f611aa05d26633">ConvertMicrotracksDataSetToEdb</a>( query, <a class="code" href="emrec_8cpp.html#abb8a075674b43678714bafe11798d10e">outdir</a>, major, minor, structure_only );</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;  <a class="code" href="EdbLog_8cxx.html#a1134cd5954374a4bd1ead6fcade87e93">Log</a>(1,<span class="stringliteral">&quot;ConvertMicrotracksProcessToEdb&quot;</span>,<span class="stringliteral">&quot;%d views are extracted from db for the processoperation %lld&quot;</span>,nv,processoperation);</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;  <span class="keywordflow">return</span> nv;</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ab2ecd714dd33a6b90a6cfa91480b4d5d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab2ecd714dd33a6b90a6cfa91480b4d5d">&#9670;&nbsp;</a></span>ConvertMicrotracksVolumeToEdb()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Int_t TOracleServerE2::ConvertMicrotracksVolumeToEdb </td>
          <td>(</td>
          <td class="paramtype">ULong64_t&#160;</td>
          <td class="paramname"><em>id_volume</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>outdir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>major</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>minor</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>structure_only</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;{  </div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;  <span class="keywordtype">char</span> query[2048];</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;   sprintf(query,<span class="stringliteral">&quot;\</span></div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;<span class="stringliteral">    select sl.id_eventbrick,sl.id_plate,sl.id_zone, pl.z from TB_VOLUME_SLICES%s sl, TB_PLATES%s pl where \</span></div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;<span class="stringliteral">    sl.id_volume=%lld and sl.id_eventbrick=pl.id_eventbrick and sl.id_plate=pl.id order by pl.id&quot;</span>,</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;        <a class="code" href="classTOracleServerE2.html#a20ccaf6deeb3f799267619e16df37c8e">eRTS</a>.Data(),</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;        <a class="code" href="classTOracleServerE2.html#a20ccaf6deeb3f799267619e16df37c8e">eRTS</a>.Data(),</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;        id_volume);</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;  <span class="keywordtype">int</span> nv= <a class="code" href="classTOracleServerE2.html#a818b40ef093b6e8c18f611aa05d26633">ConvertMicrotracksDataSetToEdb</a>( query, <a class="code" href="emrec_8cpp.html#abb8a075674b43678714bafe11798d10e">outdir</a>, major, minor, structure_only );</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;  <a class="code" href="EdbLog_8cxx.html#a1134cd5954374a4bd1ead6fcade87e93">Log</a>(1,<span class="stringliteral">&quot;ConvertMicrotracksVolumeToEdb&quot;</span>,<span class="stringliteral">&quot;%d views are extracted from db for the volume %lld&quot;</span>,nv,id_volume);</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;  <span class="keywordflow">return</span> nv;</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a0b83db1ceeafb8b0bdec86822cdfce58"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b83db1ceeafb8b0bdec86822cdfce58">&#9670;&nbsp;</a></span>ConvertMicrotracksZoneToEdb()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Int_t TOracleServerE2::ConvertMicrotracksZoneToEdb </td>
          <td>(</td>
          <td class="paramtype">Int_t&#160;</td>
          <td class="paramname"><em>id_eventbrick</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ULong64_t&#160;</td>
          <td class="paramname"><em>id_zone</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classEdbRun.html">EdbRun</a> &amp;&#160;</td>
          <td class="paramname"><em>run</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;{</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;  <span class="comment">// read possibly full information for all views and microtracks for the given zone and fill the run file with the raw data (rwd like)</span></div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160; </div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;  <span class="keywordtype">int</span> nviews=0;</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;  TObjArray edbviews1;</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;  <span class="keywordtype">int</span> n1= <a class="code" href="classTOracleServerE2.html#a1c28a8442ced116e03ce4394a139b558">ReadViewsZone</a>(id_zone,1,edbviews1);</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;  <span class="keywordflow">if</span>(n1&gt;0) {</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;    nviews += n1;  </div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;    <a class="code" href="classTOracleServerE2.html#aac5dc7e0696a8675c7cea1bc0092f364">ReadMicrotracksZone</a>( id_eventbrick, id_zone, 1, edbviews1 );</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt;edbviews1.GetEntries(); i++)    <a class="code" href="macros__root6_2check__raw_8C.html#ac295771b9595f4134610b79353c979d3">run</a>.<a class="code" href="classEdbRun.html#ab423927093c24fa1025e78d3eedf23f3">AddView</a>( (<a class="code" href="classEdbView.html">EdbView</a> *)(edbviews1.At(i)) );</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;  }</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160; </div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;  TObjArray edbviews2;</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;  <span class="keywordtype">int</span> n2 = <a class="code" href="classTOracleServerE2.html#a1c28a8442ced116e03ce4394a139b558">ReadViewsZone</a>(id_zone,2,edbviews2);</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;  <span class="keywordflow">if</span>(n2&gt;0) {</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;    nviews += n2;</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;    <a class="code" href="classTOracleServerE2.html#aac5dc7e0696a8675c7cea1bc0092f364">ReadMicrotracksZone</a>( id_eventbrick, id_zone, 2, edbviews2 );</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt;edbviews2.GetEntries(); i++)    <a class="code" href="macros__root6_2check__raw_8C.html#ac295771b9595f4134610b79353c979d3">run</a>.<a class="code" href="classEdbRun.html#ab423927093c24fa1025e78d3eedf23f3">AddView</a>( (<a class="code" href="classEdbView.html">EdbView</a> *)(edbviews2.At(i)) );</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;  }</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;  <a class="code" href="macros__root6_2check__raw_8C.html#ac295771b9595f4134610b79353c979d3">run</a>.<a class="code" href="classEdbRun.html#a2daab5f0fffe95ac0a2c8d4cb86fe72b">Save</a>();</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;  <span class="keywordflow">return</span> nviews;</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;}</div>
<div class="ttc" id="aclassEdbRun_html_a2daab5f0fffe95ac0a2c8d4cb86fe72b"><div class="ttname"><a href="classEdbRun.html#a2daab5f0fffe95ac0a2c8d4cb86fe72b">EdbRun::Save</a></div><div class="ttdeci">void Save()</div><div class="ttdef"><b>Definition:</b> EdbRun.cxx:451</div></div>
<div class="ttc" id="aclassEdbRun_html_ab423927093c24fa1025e78d3eedf23f3"><div class="ttname"><a href="classEdbRun.html#ab423927093c24fa1025e78d3eedf23f3">EdbRun::AddView</a></div><div class="ttdeci">void AddView()</div><div class="ttdef"><b>Definition:</b> EdbRun.cxx:332</div></div>
<div class="ttc" id="aclassEdbView_html"><div class="ttname"><a href="classEdbView.html">EdbView</a></div><div class="ttdef"><b>Definition:</b> EdbView.h:134</div></div>
<div class="ttc" id="aclassTOracleServerE2_html_a1c28a8442ced116e03ce4394a139b558"><div class="ttname"><a href="classTOracleServerE2.html#a1c28a8442ced116e03ce4394a139b558">TOracleServerE2::ReadViewsZone</a></div><div class="ttdeci">Int_t ReadViewsZone(ULong64_t id_zone, int side, TObjArray &amp;edbviews)</div><div class="ttdef"><b>Definition:</b> TOracleServerE2.cxx:643</div></div>
<div class="ttc" id="aclassTOracleServerE2_html_aac5dc7e0696a8675c7cea1bc0092f364"><div class="ttname"><a href="classTOracleServerE2.html#aac5dc7e0696a8675c7cea1bc0092f364">TOracleServerE2::ReadMicrotracksZone</a></div><div class="ttdeci">Int_t ReadMicrotracksZone(Int_t id_eventbrick, ULong64_t id_zone, int side, TObjArray &amp;edbviews)</div><div class="ttdef"><b>Definition:</b> TOracleServerE2.cxx:715</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a271e3361a076d8555d22f98403e5b6d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a271e3361a076d8555d22f98403e5b6d9">&#9670;&nbsp;</a></span>ConvertScanbackPathToEdb()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Int_t TOracleServerE2::ConvertScanbackPathToEdb </td>
          <td>(</td>
          <td class="paramtype">Int_t&#160;</td>
          <td class="paramname"><em>id_eventbrick</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Int_t&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>outdir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>major</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>minor</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;{</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;  <a class="code" href="classEdbScanProc.html">EdbScanProc</a> <a class="code" href="comptonmap_8cpp.html#ae27d36d8c7e68123cbb493c742920f5a">sproc</a>;</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;  <span class="keywordflow">if</span>(!<a class="code" href="comptonmap_8cpp.html#ae27d36d8c7e68123cbb493c742920f5a">sproc</a>.<a class="code" href="classEdbScanProc.html#a8a23b56a24c99e8cea6b001a6d07360c">CheckDirWritable</a>(<a class="code" href="emrec_8cpp.html#abb8a075674b43678714bafe11798d10e">outdir</a>))     <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;  <a class="code" href="comptonmap_8cpp.html#ae27d36d8c7e68123cbb493c742920f5a">sproc</a>.<a class="code" href="classEdbScanProc.html#ae25b89be778d336d597879d198d16447">eProcDirClient</a>=<a class="code" href="emrec_8cpp.html#abb8a075674b43678714bafe11798d10e">outdir</a>;</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;  <a class="code" href="classEdbTrackP.html">EdbTrackP</a> <a class="code" href="check__shower_8C.html#a0875ee197cd4c3d982f66037a0cbca8a">t</a>;</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="classTOracleServerE2.html#a5131f2069ed218f76691baea0f7364fb">ReadScanbackPath</a>(id_eventbrick,path,<a class="code" href="check__shower_8C.html#a0875ee197cd4c3d982f66037a0cbca8a">t</a>)) {</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    <a class="code" href="classEdbID.html">EdbID</a> <a class="code" href="namespaceMIPBaseTrack.html#ae0fa2cd87c8c00ef9ecb696755d2f5d9">id</a>(id_eventbrick,0,major,minor);</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="comptonmap_8cpp.html#ae27d36d8c7e68123cbb493c742920f5a">sproc</a>.<a class="code" href="classEdbScanProc.html#a94d92f5cfb02064f267f089ed52a8e07">WriteSBTrack</a>(<a class="code" href="check__shower_8C.html#a0875ee197cd4c3d982f66037a0cbca8a">t</a>, path, <span class="keywordtype">id</span>))  <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;  }</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;  <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;}</div>
<div class="ttc" id="acheck__shower_8C_html_a0875ee197cd4c3d982f66037a0cbca8a"><div class="ttname"><a href="check__shower_8C.html#a0875ee197cd4c3d982f66037a0cbca8a">t</a></div><div class="ttdeci">TTree * t</div><div class="ttdef"><b>Definition:</b> check_shower.C:4</div></div>
<div class="ttc" id="aclassEdbScanProc_html_a94d92f5cfb02064f267f089ed52a8e07"><div class="ttname"><a href="classEdbScanProc.html#a94d92f5cfb02064f267f089ed52a8e07">EdbScanProc::WriteSBTrack</a></div><div class="ttdeci">int WriteSBTrack(EdbTrackP &amp;t, int path, EdbID id)</div><div class="ttdef"><b>Definition:</b> EdbScanProc.cxx:1425</div></div>
<div class="ttc" id="aclassEdbTrackP_html"><div class="ttname"><a href="classEdbTrackP.html">EdbTrackP</a></div><div class="ttdef"><b>Definition:</b> EdbPattern.h:118</div></div>
<div class="ttc" id="aclassTOracleServerE2_html_a5131f2069ed218f76691baea0f7364fb"><div class="ttname"><a href="classTOracleServerE2.html#a5131f2069ed218f76691baea0f7364fb">TOracleServerE2::ReadScanbackPath</a></div><div class="ttdeci">Int_t ReadScanbackPath(Int_t id_eventbrick, Int_t path, EdbTrackP &amp;t)</div><div class="ttdef"><b>Definition:</b> TOracleServerE2.cxx:293</div></div>
<div class="ttc" id="anamespaceMIPBaseTrack_html_ae0fa2cd87c8c00ef9ecb696755d2f5d9"><div class="ttname"><a href="namespaceMIPBaseTrack.html#ae0fa2cd87c8c00ef9ecb696755d2f5d9">MIPBaseTrack::id</a></div><div class="ttdeci">UInt_t id</div><div class="ttdef"><b>Definition:</b> tlg2pattern.C:118</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae2d46037367a85cde34d39e9e5feb8ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae2d46037367a85cde34d39e9e5feb8ea">&#9670;&nbsp;</a></span>DumpBrickVolumesID()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Int_t TOracleServerE2::DumpBrickVolumesID </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>id_eventbrick</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;{</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;  <span class="comment">// Dump on the screen the list of volumes IDs and correspondent process operation IDs</span></div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160; </div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;  <span class="keywordtype">char</span> *query= <span class="keyword">new</span> <span class="keywordtype">char</span>[2048];</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160; </div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;  <span class="keywordflow">try</span>{</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>)</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;      <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a> = <a class="code" href="classTOracleServer.html#a25a4dd472f3dcdaaa5cb45710a9dc074">fConn</a>-&gt;createStatement();</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160; </div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;    sprintf(query,<span class="stringliteral">&quot;select volume, id_processoperation, id from tb_volumes%s where id_eventbrick=%s&quot;</span>,</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;        <a class="code" href="classTOracleServerE2.html#a20ccaf6deeb3f799267619e16df37c8e">eRTS</a>.Data(), id_eventbrick);</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160; </div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;    <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>-&gt;setSQL(query);</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;    <a class="code" href="EdbLog_8cxx.html#a1134cd5954374a4bd1ead6fcade87e93">Log</a>(2,<span class="stringliteral">&quot;DumpProcessOperations&quot;</span>,<span class="stringliteral">&quot;execute sql query: %s ...&quot;</span>,query);</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;    <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>-&gt;execute();</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;    ResultSet *rs = <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>-&gt;getResultSet();</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;    <span class="keywordtype">int</span> count=0;</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;    <span class="keywordflow">while</span> (rs-&gt;next()){</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;      <span class="keywordflow">if</span>(++count==1) {</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;        printf(<span class="stringliteral">&quot;\n------------ Volumes stored for brick %s -------------\n&quot;</span>,id_eventbrick);</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;        printf(<span class="stringliteral">&quot;\nVolume      ProcessID       volumeID\n&quot;</span>);</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;      }</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;      printf(<span class="stringliteral">&quot; %s    %s    %s\n&quot;</span>,</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;         rs-&gt;getString(1).c_str(), rs-&gt;getString(2).c_str(), rs-&gt;getString(3).c_str());</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;    }</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;    <span class="keyword">delete</span> rs;</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160; </div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;  } <span class="keywordflow">catch</span> (SQLException &amp;oraex) {</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;    Error(<span class="stringliteral">&quot;TOracleServerE2&quot;</span>, <span class="stringliteral">&quot;DumpBrickVolumesID: failed: (error: %s)&quot;</span>, (oraex.getMessage()).c_str());</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;  }</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;  <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a70edeca124111d1964c475cfcbec28c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a70edeca124111d1964c475cfcbec28c0">&#9670;&nbsp;</a></span>DumpEventsID()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Int_t TOracleServerE2::DumpEventsID </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>id_eventbrick</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;{</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;  <span class="comment">// Dump on the screen the list of volumes IDs and correspondent process operation IDs</span></div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160; </div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;  <span class="keywordtype">char</span> *query= <span class="keyword">new</span> <span class="keywordtype">char</span>[2048];</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160; </div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;  <span class="keywordflow">try</span>{</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>)</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;      <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a> = <a class="code" href="classTOracleServer.html#a25a4dd472f3dcdaaa5cb45710a9dc074">fConn</a>-&gt;createStatement();</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160; </div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;    sprintf(query,<span class="stringliteral">&quot;select event  from tb_predicted_events%s where ID in \</span></div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;<span class="stringliteral">                   (select id_event from tb_cs_candidates%s where id_eventbrick in \</span></div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;<span class="stringliteral">                   (select id from tb_eventbricks%s where id_brick=%s))&quot;</span>,</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;        <a class="code" href="classTOracleServerE2.html#a20ccaf6deeb3f799267619e16df37c8e">eRTS</a>.Data(),<a class="code" href="classTOracleServerE2.html#a20ccaf6deeb3f799267619e16df37c8e">eRTS</a>.Data(),<a class="code" href="classTOracleServerE2.html#a20ccaf6deeb3f799267619e16df37c8e">eRTS</a>.Data(), id_eventbrick);</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160; </div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;    <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>-&gt;setSQL(query);</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;    <a class="code" href="EdbLog_8cxx.html#a1134cd5954374a4bd1ead6fcade87e93">Log</a>(2,<span class="stringliteral">&quot;DumpEventsID&quot;</span>,<span class="stringliteral">&quot;execute sql query: %s ...\n&quot;</span>,query);</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;    <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>-&gt;execute();</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;    ResultSet *rs = <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>-&gt;getResultSet();</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;    <span class="keywordtype">int</span> count=0;</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;    <span class="keywordflow">while</span> (rs-&gt;next()){</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;      <span class="keywordflow">if</span>(++count==1) {</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;        printf(<span class="stringliteral">&quot;\n------------ Events defined for brick %s -------------\n&quot;</span>,id_eventbrick);</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;      }</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;      printf(<span class="stringliteral">&quot;Event \t%s  is associated with brick %s\n&quot;</span>, rs-&gt;getString(1).c_str(), id_eventbrick);</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;    }</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;    <span class="keywordflow">if</span>(count&gt;0) printf(<span class="stringliteral">&quot;---------------------------------------------------------\n&quot;</span>);</div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160; </div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;    <span class="keyword">delete</span> rs;</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160; </div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;  } <span class="keywordflow">catch</span> (SQLException &amp;oraex) {</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;    Error(<span class="stringliteral">&quot;TOracleServerE2&quot;</span>, <span class="stringliteral">&quot;DumpEventsID: failed: (error: %s)&quot;</span>, (oraex.getMessage()).c_str());</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;  }</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;  <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a7c21c9689362499a2b752980e12caab1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c21c9689362499a2b752980e12caab1">&#9670;&nbsp;</a></span>DumpProcessOperations() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Int_t TOracleServerE2::DumpProcessOperations </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>id_eventbrick</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>id_programsettings</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;{</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;  <span class="comment">// Dump on the screen the list of process operation IDs related to a given brick and program setting</span></div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160; </div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;  <span class="keywordtype">char</span> *query= <span class="keyword">new</span> <span class="keywordtype">char</span>[2048];</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160; </div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;  <span class="keywordflow">try</span>{</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>)</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;      <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a> = <a class="code" href="classTOracleServer.html#a25a4dd472f3dcdaaa5cb45710a9dc074">fConn</a>-&gt;createStatement();</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160; </div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;    sprintf(query,<span class="stringliteral">&quot;select ID,to_char(starttime),to_char(notes) from tb_proc_operations%s where id_eventbrick=%s and id_programsettings=%s&quot;</span>,</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;        <a class="code" href="classTOracleServerE2.html#a20ccaf6deeb3f799267619e16df37c8e">eRTS</a>.Data(), id_eventbrick, id_programsettings);</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160; </div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;    <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>-&gt;setSQL(query);</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;    <a class="code" href="EdbLog_8cxx.html#a1134cd5954374a4bd1ead6fcade87e93">Log</a>(2,<span class="stringliteral">&quot;DumpProcessOperations&quot;</span>,<span class="stringliteral">&quot;execute sql query: %s ...&quot;</span>,query);</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;    <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>-&gt;execute();</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;    ResultSet *rs = <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>-&gt;getResultSet();</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;    <span class="keywordflow">while</span> (rs-&gt;next()){</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;      printf(<span class="stringliteral">&quot;Operation: %s, start time: %s, notes: %s\n&quot;</span>,</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;         rs-&gt;getString(1).c_str(),rs-&gt;getString(2).c_str(),rs-&gt;getString(3).c_str());</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;    }</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;    <span class="keyword">delete</span> rs;</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160; </div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;  } <span class="keywordflow">catch</span> (SQLException &amp;oraex) {</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;    Error(<span class="stringliteral">&quot;TOracleServerE2&quot;</span>, <span class="stringliteral">&quot;DumpProcessOperations; failed: (error: %s)&quot;</span>, (oraex.getMessage()).c_str());</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;  }</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;  <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a6b7906baaf4bc6badacb55deb0648d9b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b7906baaf4bc6badacb55deb0648d9b">&#9670;&nbsp;</a></span>DumpProcessOperations() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Int_t TOracleServerE2::DumpProcessOperations </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>id_eventbrick</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Int_t&#160;</td>
          <td class="paramname"><em>driverlevel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;{</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;  <span class="comment">// Dump on the screen the list of process operation IDs related to a given brick with a driverlevel greater or equal than the given value</span></div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160; </div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;  <span class="keywordtype">char</span> *query= <span class="keyword">new</span> <span class="keywordtype">char</span>[2048];</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160; </div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;  <span class="keywordflow">try</span>{</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>)</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;      <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a> = <a class="code" href="classTOracleServer.html#a25a4dd472f3dcdaaa5cb45710a9dc074">fConn</a>-&gt;createStatement();</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160; </div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;    sprintf(query,<span class="stringliteral">&quot;select ID, id_plate,to_char(starttime),to_char(notes),driverlevel from tb_proc_operations%s where id_eventbrick=%s and driverlevel&gt;=%d order by starttime&quot;</span>,</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;        <a class="code" href="classTOracleServerE2.html#a20ccaf6deeb3f799267619e16df37c8e">eRTS</a>.Data(), id_eventbrick, driverlevel);</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160; </div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;    <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>-&gt;setSQL(query);</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;    <a class="code" href="EdbLog_8cxx.html#a1134cd5954374a4bd1ead6fcade87e93">Log</a>(2,<span class="stringliteral">&quot;DumpProcessOperations&quot;</span>,<span class="stringliteral">&quot;execute sql query: %s ...&quot;</span>,query);</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;    <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>-&gt;execute();</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;    ResultSet *rs = <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>-&gt;getResultSet();</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;    <span class="keywordtype">int</span> count=0;</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;    <span class="keywordflow">while</span> (rs-&gt;next()){</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;      <span class="keywordflow">if</span>(++count==1) {</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;        printf(<span class="stringliteral">&quot;\n----------------- Operations with driverlevel &gt;= %d for brick %s ------------------------\n&quot;</span>, driverlevel, id_eventbrick);</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;        printf(<span class="stringliteral">&quot;\n  OperationID        Plate   Date     Driverlevel   Notes\n&quot;</span>);</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;      }</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;      printf(<span class="stringliteral">&quot;%18s  %3d    %s       %d        %s\n&quot;</span>,</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;         rs-&gt;getString(1).c_str(), rs-&gt;getInt(2), rs-&gt;getString(3).c_str(), rs-&gt;getInt(5), rs-&gt;getString(4).c_str());</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;    }</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;    <span class="keyword">delete</span> rs;</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160; </div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;  } <span class="keywordflow">catch</span> (SQLException &amp;oraex) {</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;    Error(<span class="stringliteral">&quot;TOracleServerE2&quot;</span>, <span class="stringliteral">&quot;DumpProcessOperations; failed: (error: %s)&quot;</span>, (oraex.getMessage()).c_str());</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;  }</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;  <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a13ffb64bdf2900441ad33996860b6008"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13ffb64bdf2900441ad33996860b6008">&#9670;&nbsp;</a></span>GetId_EventBrick()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Int_t TOracleServerE2::GetId_EventBrick </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>id_brick</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>id_set</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;{</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;  <span class="comment">// Get the brick ID related to a given brick name and brick-set</span></div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;  Int_t idnum=0;</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;  <span class="keywordtype">char</span> *query= <span class="keyword">new</span> <span class="keywordtype">char</span>[2048];</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;   <span class="keywordflow">try</span>{</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>)</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;      <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a> = <a class="code" href="classTOracleServer.html#a25a4dd472f3dcdaaa5cb45710a9dc074">fConn</a>-&gt;createStatement();</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160; </div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;    sprintf(query,<span class="stringliteral">&quot;select ID from tb_eventbricks%s where id_brick=%s and id_set=%s &quot;</span>,</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;        <a class="code" href="classTOracleServerE2.html#a20ccaf6deeb3f799267619e16df37c8e">eRTS</a>.Data(), id_brick, id_set);</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160; </div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;    <span class="comment">//    fStmt-&gt;setSQL(query);</span></div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;    <a class="code" href="EdbLog_8cxx.html#a1134cd5954374a4bd1ead6fcade87e93">Log</a>(2,<span class="stringliteral">&quot;GetId_EventBrick&quot;</span>,<span class="stringliteral">&quot;execute sql query: %s ...&quot;</span>,query);</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;    <span class="comment">//    fStmt-&gt;execute();</span></div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;    <a class="code" href="classTOracleServer.html#a2be47a4c47244bd22d6f309601c4638d">Query</a>(query);</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;    ResultSet *rs = <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>-&gt;getResultSet();</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;    <span class="keywordflow">if</span>(rs) {</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;      <span class="keywordflow">while</span> (rs-&gt;next()){</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;        <span class="keywordflow">if</span>(<span class="keywordtype">id</span>) <a class="code" href="energy_8C.html#a9d743a56ee254e38a6e17872b8cde29e">strcpy</a>(<span class="keywordtype">id</span>,rs-&gt;getString(1).c_str());</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;        sscanf(rs-&gt;getString(1).c_str(),<span class="stringliteral">&quot;%d&quot;</span>, &amp;idnum);</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;      }</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;      <span class="keyword">delete</span> rs;</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;    }</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;   } <span class="keywordflow">catch</span> (SQLException &amp;oraex) {</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;    Error(<span class="stringliteral">&quot;TOracleServerE2&quot;</span>, <span class="stringliteral">&quot;GetId_Eventbrick; failed: (error: %s)&quot;</span>, (oraex.getMessage()).c_str());</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;  }</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;  <span class="keywordflow">return</span> idnum;</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;}</div>
<div class="ttc" id="aclassTOracleServer_html_a2be47a4c47244bd22d6f309601c4638d"><div class="ttname"><a href="classTOracleServer.html#a2be47a4c47244bd22d6f309601c4638d">TOracleServer::Query</a></div><div class="ttdeci">TSQLResult * Query(const char *sql)</div><div class="ttdef"><b>Definition:</b> TOracleServer.cxx:97</div></div>
<div class="ttc" id="aenergy_8C_html_a9d743a56ee254e38a6e17872b8cde29e"><div class="ttname"><a href="energy_8C.html#a9d743a56ee254e38a6e17872b8cde29e">strcpy</a></div><div class="ttdeci">strcpy(cmd,&quot;cp  Shower.root Shower2.root&quot;)</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2c0cc84b15ca402d90bd27cd844bc1f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c0cc84b15ca402d90bd27cd844bc1f6">&#9670;&nbsp;</a></span>GetId_ScanbackPath() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Int_t TOracleServerE2::GetId_ScanbackPath </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>id_eventbrick</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>id_process_operation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;{</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;  <span class="comment">// Get the scanback path ID related to a given brick, process operation and path</span></div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160; </div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;  <span class="keywordtype">char</span> *query= <span class="keyword">new</span> <span class="keywordtype">char</span>[2048];</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;  <span class="keywordflow">try</span>{</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>)</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;      <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a> = <a class="code" href="classTOracleServer.html#a25a4dd472f3dcdaaa5cb45710a9dc074">fConn</a>-&gt;createStatement();</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160; </div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;    sprintf(query,<span class="stringliteral">&quot;select ID from TB_SCANBACK_PATHS%s where id_eventbrick=%s and ID_PROCESSOPERATION=%s and PATH=%d&quot;</span>, </div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;            <a class="code" href="classTOracleServerE2.html#a20ccaf6deeb3f799267619e16df37c8e">eRTS</a>.Data(), id_eventbrick, id_process_operation, path);</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160; </div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;    <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>-&gt;setSQL(query);</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;    <a class="code" href="EdbLog_8cxx.html#a1134cd5954374a4bd1ead6fcade87e93">Log</a>(2,<span class="stringliteral">&quot;GetId_ScanbackPath&quot;</span>,<span class="stringliteral">&quot;execute sql query: %s ...&quot;</span>,query);</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;    <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>-&gt;execute();</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;    ResultSet *rs = <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>-&gt;getResultSet();</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;    <span class="keywordflow">while</span> (rs-&gt;next()){</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;      <a class="code" href="energy_8C.html#a9d743a56ee254e38a6e17872b8cde29e">strcpy</a>(<span class="keywordtype">id</span>,rs-&gt;getString(1).c_str());</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;    }</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;    <span class="keyword">delete</span> rs;</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160; </div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;  } <span class="keywordflow">catch</span> (SQLException &amp;oraex) {</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;    Error(<span class="stringliteral">&quot;TOracleServerE2&quot;</span>, <span class="stringliteral">&quot;GetId_ScanbackPath; failed: (error: %s)&quot;</span>, (oraex.getMessage()).c_str());</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;  }</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;  <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a94c1cfb9ea893f5204ab3c28129abe25"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a94c1cfb9ea893f5204ab3c28129abe25">&#9670;&nbsp;</a></span>GetId_ScanbackPath() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ULong64_t TOracleServerE2::GetId_ScanbackPath </td>
          <td>(</td>
          <td class="paramtype">ULong64_t&#160;</td>
          <td class="paramname"><em>id_eventbrick</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ULong64_t&#160;</td>
          <td class="paramname"><em>id_process_operation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>path</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;{</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;  <span class="comment">// Get the scanback path ID related to a given brick, process operation and path</span></div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160; </div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;  ULong64_t <span class="keywordtype">id</span>=0;</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;  <span class="keywordtype">char</span> *query= <span class="keyword">new</span> <span class="keywordtype">char</span>[2048];</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;   <span class="keywordflow">try</span>{</div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>)</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;      <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a> = <a class="code" href="classTOracleServer.html#a25a4dd472f3dcdaaa5cb45710a9dc074">fConn</a>-&gt;createStatement();</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160; </div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;    sprintf(query,<span class="stringliteral">&quot;select ID from TB_SCANBACK_PATHS%s where id_eventbrick=%s and ID_PROCESSOPERATION=%s and PATH=%d&quot;</span>, </div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;        <a class="code" href="classTOracleServerE2.html#a20ccaf6deeb3f799267619e16df37c8e">eRTS</a>.Data(), </div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;      <a class="code" href="classTOracleServerE2.html#abea1125c7bf85a3413c01a4d0043ed6e">Ostr</a>(id_eventbrick), <a class="code" href="classTOracleServerE2.html#abea1125c7bf85a3413c01a4d0043ed6e">Ostr</a>(id_process_operation), path);</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160; </div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;    <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>-&gt;setSQL(query);</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;    <a class="code" href="EdbLog_8cxx.html#a1134cd5954374a4bd1ead6fcade87e93">Log</a>(2,<span class="stringliteral">&quot;GetId_ScanbackPath&quot;</span>,<span class="stringliteral">&quot;execute sql query: %s ...&quot;</span>,query);</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;    <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>-&gt;execute();</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;    ResultSet *rs = <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>-&gt;getResultSet();</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;    <span class="keywordflow">while</span> (rs-&gt;next()){</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;      sscanf( (rs-&gt;getString(1)).c_str(),<span class="stringliteral">&quot;%lld&quot;</span>,&amp;<span class="keywordtype">id</span>);</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;      <a class="code" href="EdbLog_8cxx.html#a1134cd5954374a4bd1ead6fcade87e93">Log</a>(2,<span class="stringliteral">&quot;TOracleServerE2::GetId_ScanbackPath&quot;</span>,<span class="stringliteral">&quot;%lld&quot;</span>,<span class="keywordtype">id</span>);</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;    }</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;    <span class="keyword">delete</span> rs;</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160; </div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;  } <span class="keywordflow">catch</span> (SQLException &amp;oraex) {</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;    Error(<span class="stringliteral">&quot;TOracleServerE2&quot;</span>, <span class="stringliteral">&quot;GetId_ScanbackPath; failed: (error: %s)&quot;</span>, (oraex.getMessage()).c_str());</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;  }</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespaceMIPBaseTrack.html#ae0fa2cd87c8c00ef9ecb696755d2f5d9">id</a>;</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;}</div>
<div class="ttc" id="aclassTOracleServerE2_html_abea1125c7bf85a3413c01a4d0043ed6e"><div class="ttname"><a href="classTOracleServerE2.html#abea1125c7bf85a3413c01a4d0043ed6e">TOracleServerE2::Ostr</a></div><div class="ttdeci">const char * Ostr(ULong64_t num)</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aca04a8f76f5a250586246116fd9899e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca04a8f76f5a250586246116fd9899e6">&#9670;&nbsp;</a></span>GetId_Volume()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Int_t TOracleServerE2::GetId_Volume </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>id_eventbrick</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>id_process_operation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ivolume</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;{</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;  <span class="comment">// Get the volume ID related to a given brick, process operation and progressive number of the volume</span></div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160; </div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;  <span class="keywordtype">char</span> *query= <span class="keyword">new</span> <span class="keywordtype">char</span>[2048];</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;   <span class="keywordflow">try</span>{</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>)</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;      <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a> = <a class="code" href="classTOracleServer.html#a25a4dd472f3dcdaaa5cb45710a9dc074">fConn</a>-&gt;createStatement();</div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160; </div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;    sprintf(query,<span class="stringliteral">&quot;select ID from TB_VOLUMES%s where id_eventbrick=%s and ID_PROCESSOPERATION=%s and VOLUME=%d&quot;</span>, </div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;        <a class="code" href="classTOracleServerE2.html#a20ccaf6deeb3f799267619e16df37c8e">eRTS</a>.Data(), id_eventbrick, id_process_operation, ivolume);</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160; </div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;    <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>-&gt;setSQL(query);</div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;    <a class="code" href="EdbLog_8cxx.html#a1134cd5954374a4bd1ead6fcade87e93">Log</a>(2,<span class="stringliteral">&quot;GetId_Volume&quot;</span>,<span class="stringliteral">&quot;execute sql query: %s ...&quot;</span>,query);</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;    <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>-&gt;execute();</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;    ResultSet *rs = <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>-&gt;getResultSet();</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;    <span class="keywordflow">while</span> (rs-&gt;next()){</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;      <a class="code" href="energy_8C.html#a9d743a56ee254e38a6e17872b8cde29e">strcpy</a>(<span class="keywordtype">id</span>,rs-&gt;getString(1).c_str());</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;    }</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;    <span class="keyword">delete</span> rs;</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160; </div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;  } <span class="keywordflow">catch</span> (SQLException &amp;oraex) {</div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;    Error(<span class="stringliteral">&quot;TOracleServerE2&quot;</span>, <span class="stringliteral">&quot;GetId_Volume; failed: (error: %s)&quot;</span>, (oraex.getMessage()).c_str());</div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;  }</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;  <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a5ecbc6c02c82fe3ed04d2c419610dbf8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ecbc6c02c82fe3ed04d2c419610dbf8">&#9670;&nbsp;</a></span>GetId_Zone()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Int_t TOracleServerE2::GetId_Zone </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>id_eventbrick</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>id_plate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>id_process_operation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>series</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;{</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;  <span class="comment">// Get the zone ID related to a given brick, plate, process operation and series</span></div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160; </div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;  <span class="keywordtype">char</span> *query= <span class="keyword">new</span> <span class="keywordtype">char</span>[2048];</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;   <span class="keywordflow">try</span>{</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>)</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;      <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a> = <a class="code" href="classTOracleServer.html#a25a4dd472f3dcdaaa5cb45710a9dc074">fConn</a>-&gt;createStatement();</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160; </div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;    sprintf(query,<span class="stringliteral">&quot;select ID from tb_zones%s where id_eventbrick=%s and id_plate=%s and id_processoperation=%s and series=%s&quot;</span>, </div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;        <a class="code" href="classTOracleServerE2.html#a20ccaf6deeb3f799267619e16df37c8e">eRTS</a>.Data(), id_eventbrick, id_plate, id_process_operation, series);</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160; </div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;    <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>-&gt;setSQL(query);</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;    <a class="code" href="EdbLog_8cxx.html#a1134cd5954374a4bd1ead6fcade87e93">Log</a>(2,<span class="stringliteral">&quot;GetId_Zone&quot;</span>,<span class="stringliteral">&quot;execute sql query: %s ...&quot;</span>,query);</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;    <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>-&gt;execute();</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;    ResultSet *rs = <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>-&gt;getResultSet();</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;    <span class="keywordflow">while</span> (rs-&gt;next()){</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;      <a class="code" href="energy_8C.html#a9d743a56ee254e38a6e17872b8cde29e">strcpy</a>(<span class="keywordtype">id</span>,rs-&gt;getString(1).c_str());</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;    }</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;    <span class="keyword">delete</span> rs;</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160; </div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;  } <span class="keywordflow">catch</span> (SQLException &amp;oraex) {</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;    Error(<span class="stringliteral">&quot;TOracleServerE2&quot;</span>, <span class="stringliteral">&quot;GetId_Zone; failed: (error: %s)&quot;</span>, (oraex.getMessage()).c_str());</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;  }</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;  <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a3dbd97dfaf277c229c1d5e34c66be676"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3dbd97dfaf277c229c1d5e34c66be676">&#9670;&nbsp;</a></span>GetProcessOperationID() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Int_t TOracleServerE2::GetProcessOperationID </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>id_eventbrick</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>id_parent_operation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>id_programsettings</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>id_plate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;{</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;  <span class="comment">// Get the last process operation ID related to a given brick, plate and program setting</span></div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160; </div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;  <span class="keywordtype">char</span> *query= <span class="keyword">new</span> <span class="keywordtype">char</span>[2048];</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160; </div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;  <span class="keywordflow">try</span>{</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>)</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;      <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a> = <a class="code" href="classTOracleServer.html#a25a4dd472f3dcdaaa5cb45710a9dc074">fConn</a>-&gt;createStatement();</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160; </div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;    sprintf(query,<span class="stringliteral">&quot;\</span></div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;<span class="stringliteral"> select ID from tb_proc_operations%s \</span></div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;<span class="stringliteral"> where id_parent_operation=%s and id_programsettings=%s and id_eventbrick=%s and id_plate=%s&quot;</span>,<a class="code" href="classTOracleServerE2.html#a20ccaf6deeb3f799267619e16df37c8e">eRTS</a>.Data(),</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;        id_parent_operation, id_programsettings, id_eventbrick, id_plate);</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160; </div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;    <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>-&gt;setSQL(query);</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;    <a class="code" href="EdbLog_8cxx.html#a1134cd5954374a4bd1ead6fcade87e93">Log</a>(2,<span class="stringliteral">&quot;GetProcessOperationID&quot;</span>,<span class="stringliteral">&quot;execute sql query: %s ...&quot;</span>,query);</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;    <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>-&gt;execute();</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;    ResultSet *rs = <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>-&gt;getResultSet();</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;    <span class="keywordflow">while</span> (rs-&gt;next()){</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;      <a class="code" href="energy_8C.html#a9d743a56ee254e38a6e17872b8cde29e">strcpy</a>(<span class="keywordtype">id</span>,rs-&gt;getString(1).c_str());</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;    }</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;    <span class="keyword">delete</span> rs;</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160; </div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;  } <span class="keywordflow">catch</span> (SQLException &amp;oraex) {</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;    Error(<span class="stringliteral">&quot;TOracleServerE2&quot;</span>, <span class="stringliteral">&quot;GetProcessOperationID; failed: (error: %s)&quot;</span>, (oraex.getMessage()).c_str());</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;  }</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;  <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="adbc92586d1b3802d7cf2806955f73599"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adbc92586d1b3802d7cf2806955f73599">&#9670;&nbsp;</a></span>GetProcessOperationID() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Int_t TOracleServerE2::GetProcessOperationID </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>id_eventbrick</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>id_programsettings</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;{</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;  <span class="comment">// Get the last process operation ID related to a given brick and program setting</span></div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160; </div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;  <span class="keywordtype">char</span> *query= <span class="keyword">new</span> <span class="keywordtype">char</span>[2048];</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160; </div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;  <span class="keywordflow">try</span>{</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>)</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;      <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a> = <a class="code" href="classTOracleServer.html#a25a4dd472f3dcdaaa5cb45710a9dc074">fConn</a>-&gt;createStatement();</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160; </div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;    sprintf(query,<span class="stringliteral">&quot;select ID from tb_proc_operations%s where id_eventbrick=%s and id_programsettings=%s&quot;</span></div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;        ,<a class="code" href="classTOracleServerE2.html#a20ccaf6deeb3f799267619e16df37c8e">eRTS</a>.Data(), id_eventbrick, id_programsettings);</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160; </div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;    <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>-&gt;setSQL(query);</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;    <a class="code" href="EdbLog_8cxx.html#a1134cd5954374a4bd1ead6fcade87e93">Log</a>(2,<span class="stringliteral">&quot;GetProcessOperationID&quot;</span>,<span class="stringliteral">&quot;execute sql query: %s ...&quot;</span>,query);</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;    <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>-&gt;execute();</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;    ResultSet *rs = <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>-&gt;getResultSet();</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;    <span class="keywordflow">while</span> (rs-&gt;next()){</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;      <a class="code" href="energy_8C.html#a9d743a56ee254e38a6e17872b8cde29e">strcpy</a>(<span class="keywordtype">id</span>,rs-&gt;getString(1).c_str());</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;    }</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;    <span class="keyword">delete</span> rs;</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160; </div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;  } <span class="keywordflow">catch</span> (SQLException &amp;oraex) {</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;    Error(<span class="stringliteral">&quot;TOracleServerE2&quot;</span>, <span class="stringliteral">&quot;GetProcessOperationID; failed: (error: %s)&quot;</span>, (oraex.getMessage()).c_str());</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;  }</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;  <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a2512b0e12f8036f960f2a83b19a70b1d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2512b0e12f8036f960f2a83b19a70b1d">&#9670;&nbsp;</a></span>GetProcessOperationID() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ULong64_t TOracleServerE2::GetProcessOperationID </td>
          <td>(</td>
          <td class="paramtype">ULong64_t&#160;</td>
          <td class="paramname"><em>id_eventbrick</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ULong64_t&#160;</td>
          <td class="paramname"><em>id_parent_operation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ULong64_t&#160;</td>
          <td class="paramname"><em>id_programsettings</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id_plate</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;{</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;  <span class="comment">// Get the last process operation ID related to a given brick, plate and program setting</span></div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160; </div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;  ULong64_t <span class="keywordtype">id</span> = 0;</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;  <span class="keywordtype">char</span> *query= <span class="keyword">new</span> <span class="keywordtype">char</span>[2048];</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160; </div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;  <span class="keywordflow">try</span>{</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>)</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;      <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a> = <a class="code" href="classTOracleServer.html#a25a4dd472f3dcdaaa5cb45710a9dc074">fConn</a>-&gt;createStatement();</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160; </div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;    sprintf(query,<span class="stringliteral">&quot;\</span></div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;<span class="stringliteral">        select ID from tb_proc_operations%s \</span></div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;<span class="stringliteral">            where id_parent_operation=%s and id_programsettings=%s and id_eventbrick=%s and id_plate=%d&quot;</span>,<a class="code" href="classTOracleServerE2.html#a20ccaf6deeb3f799267619e16df37c8e">eRTS</a>.Data(),</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;        <a class="code" href="classTOracleServerE2.html#abea1125c7bf85a3413c01a4d0043ed6e">Ostr</a>(id_parent_operation), <a class="code" href="classTOracleServerE2.html#abea1125c7bf85a3413c01a4d0043ed6e">Ostr</a>(id_programsettings), <a class="code" href="classTOracleServerE2.html#abea1125c7bf85a3413c01a4d0043ed6e">Ostr</a>(id_eventbrick), id_plate);</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160; </div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;    <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>-&gt;setSQL(query);</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;    <a class="code" href="EdbLog_8cxx.html#a1134cd5954374a4bd1ead6fcade87e93">Log</a>(2,<span class="stringliteral">&quot;GetProcessOperationID&quot;</span>,<span class="stringliteral">&quot;execute sql query: %s ...&quot;</span>,query);</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;    <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>-&gt;execute();</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;    ResultSet *rs = <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>-&gt;getResultSet();</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;    <span class="keywordflow">while</span> (rs-&gt;next()){</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;      sscanf( (rs-&gt;getString(1)).c_str(),<span class="stringliteral">&quot;%lld&quot;</span>,&amp;<span class="keywordtype">id</span>);</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;    }</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;    <span class="keyword">delete</span> rs;</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160; </div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;  } <span class="keywordflow">catch</span> (SQLException &amp;oraex) {</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;    Error(<span class="stringliteral">&quot;TOracleServerE2&quot;</span>, <span class="stringliteral">&quot;GetProcessOperationID; failed: (error: %s)&quot;</span>, (oraex.getMessage()).c_str());</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;  }</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespaceMIPBaseTrack.html#ae0fa2cd87c8c00ef9ecb696755d2f5d9">id</a>;</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a40c620ac506bd27668a06966329a598c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40c620ac506bd27668a06966329a598c">&#9670;&nbsp;</a></span>GetProcessType()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Int_t TOracleServerE2::GetProcessType </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>IDPROCESS</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;{</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;  <span class="comment">// GL: strange function; probably can be useful as an example of the complex query</span></div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160; </div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;  <span class="keywordtype">char</span> *query= <span class="keyword">new</span> <span class="keywordtype">char</span>[2048];</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;  <span class="keywordtype">int</span> scanback=-1;</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;  <span class="keywordtype">int</span> SBFLAG=-99,TSFLAG=-99;</div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160; </div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;  <span class="keywordflow">try</span>{</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>)</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;      <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a> = <a class="code" href="classTOracleServer.html#a25a4dd472f3dcdaaa5cb45710a9dc074">fConn</a>-&gt;createStatement();</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160; </div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;    sprintf(query,<span class="stringliteral">&quot;\</span></div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;<span class="stringliteral">select SBFLAG, TSFLAG FROM (select decode(count(*),0,0,1) as SBFLAG from tb_scanback_paths \</span></div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;<span class="stringliteral">where (id_eventbrick, id_processoperation) in (select id_eventbrick, id from tb_proc_operations \</span></div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;<span class="stringliteral">where id = %s)),(select decode(count(*),0,0,1) as TSFLAG from tb_volumes \</span></div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;<span class="stringliteral">where (id_eventbrick, id_processoperation) \</span></div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;<span class="stringliteral">in (select id_eventbrick, id from tb_proc_operations where id = %s))&quot;</span>,</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;        IDPROCESS,IDPROCESS);</div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160; </div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;    <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>-&gt;setSQL(query);</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;    <a class="code" href="EdbLog_8cxx.html#a1134cd5954374a4bd1ead6fcade87e93">Log</a>(2,<span class="stringliteral">&quot;GetProcessType&quot;</span>,<span class="stringliteral">&quot;execute sql query: %s ...&quot;</span>,query);</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;    <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>-&gt;execute();</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;    ResultSet *rs = <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>-&gt;getResultSet();</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160; </div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;    <span class="keywordflow">if</span>(!rs-&gt;next())  <span class="keywordflow">return</span> scanback;</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160; </div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;    SBFLAG = rs-&gt;getInt(1);</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;    TSFLAG = rs-&gt;getInt(2);</div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160; </div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;    <span class="keywordflow">if</span> (SBFLAG == 0 &amp;&amp; TSFLAG == 0)</div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;      scanback = -1;</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (SBFLAG == 1)</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;      scanback = 1;</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (TSFLAG == 1)</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;      scanback = 0;</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160; </div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;    <span class="keyword">delete</span> rs;</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;  } <span class="keywordflow">catch</span> (SQLException &amp;oraex) {</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;    Error(<span class="stringliteral">&quot;TOracleServerE&quot;</span>, <span class="stringliteral">&quot;GetProcessType; failed: (error: %s)&quot;</span>, (oraex.getMessage()).c_str());</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;  }</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;  <span class="keywordflow">return</span> scanback;</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="acdbde6e8f9479062d08d7e9c98f9bb38"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acdbde6e8f9479062d08d7e9c98f9bb38">&#9670;&nbsp;</a></span>Ostr() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char * TOracleServerE2::Ostr </td>
          <td>(</td>
          <td class="paramtype">Int_t&#160;</td>
          <td class="paramname"><em>num</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;{</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;    <span class="comment">// return &quot;null&quot; if arg&lt;=0;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;  <span class="keywordflow">return</span> num&gt;0 ? Form(<span class="stringliteral">&quot;%d&quot;</span>,num) : Form(<span class="stringliteral">&quot;null&quot;</span>);</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="abea1125c7bf85a3413c01a4d0043ed6e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abea1125c7bf85a3413c01a4d0043ed6e">&#9670;&nbsp;</a></span>Ostr() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* TOracleServerE2::Ostr </td>
          <td>(</td>
          <td class="paramtype">ULong64_t&#160;</td>
          <td class="paramname"><em>num</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a4469a498a1083974623c2be6350564d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4469a498a1083974623c2be6350564d9">&#9670;&nbsp;</a></span>Print()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="Milproto_8h.html#ad25c00c18486b3c83c838f69f1af4204">void</a> TOracleServerE2::Print </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;{</div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;  <span class="keywordflow">if</span>(IsConnected()) printf(<span class="stringliteral">&quot;TOracleServerE2 is connected to: %s://%s:%d/%s\n&quot;</span>, <a class="code" href="classTOracleServer.html#a5eae7d3ad6b63f59412fca2004d38ae5">ServerInfo</a>(),GetHost(),GetPort(),GetDB() );</div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;  <span class="keywordflow">else</span> printf(<span class="stringliteral">&quot;TOracleServerE2 is not connected!\n&quot;</span>);</div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;}</div>
<div class="ttc" id="aclassTOracleServer_html_a5eae7d3ad6b63f59412fca2004d38ae5"><div class="ttname"><a href="classTOracleServer.html#a5eae7d3ad6b63f59412fca2004d38ae5">TOracleServer::ServerInfo</a></div><div class="ttdeci">const char * ServerInfo()</div><div class="ttdef"><b>Definition:</b> TOracleServer.cxx:305</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aede5fe3ae31fb6ea67403fa4a996ce80"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aede5fe3ae31fb6ea67403fa4a996ce80">&#9670;&nbsp;</a></span>PrintBrickInfo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="Milproto_8h.html#ad25c00c18486b3c83c838f69f1af4204">void</a> TOracleServerE2::PrintBrickInfo </td>
          <td>(</td>
          <td class="paramtype">Long_t&#160;</td>
          <td class="paramname"><em>id_eventbrick</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>level</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;{</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;  <a class="code" href="classTOracleServerE2.html#a7c21c9689362499a2b752980e12caab1">DumpProcessOperations</a>( Form(<span class="stringliteral">&quot;%ld&quot;</span>,<a class="code" href="RecDispMC_8C.html#a9c17c69ba70b395ab079a56d5fe24450">brick</a>), 0);</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;  <a class="code" href="classTOracleServerE2.html#ae2d46037367a85cde34d39e9e5feb8ea">DumpBrickVolumesID</a>( Form(<span class="stringliteral">&quot;%ld&quot;</span>,<a class="code" href="RecDispMC_8C.html#a9c17c69ba70b395ab079a56d5fe24450">brick</a>));</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;  <a class="code" href="classTOracleServerE2.html#a70edeca124111d1964c475cfcbec28c0">DumpEventsID</a>( Form(<span class="stringliteral">&quot;%ld&quot;</span>,<a class="code" href="RecDispMC_8C.html#a9c17c69ba70b395ab079a56d5fe24450">brick</a>) );</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;}</div>
<div class="ttc" id="aclassTOracleServerE2_html_a70edeca124111d1964c475cfcbec28c0"><div class="ttname"><a href="classTOracleServerE2.html#a70edeca124111d1964c475cfcbec28c0">TOracleServerE2::DumpEventsID</a></div><div class="ttdeci">Int_t DumpEventsID(char *id_eventbrick)</div><div class="ttdef"><b>Definition:</b> TOracleServerE2.cxx:1133</div></div>
<div class="ttc" id="aclassTOracleServerE2_html_a7c21c9689362499a2b752980e12caab1"><div class="ttname"><a href="classTOracleServerE2.html#a7c21c9689362499a2b752980e12caab1">TOracleServerE2::DumpProcessOperations</a></div><div class="ttdeci">Int_t DumpProcessOperations(char *id_eventbrick, char *id_programsettings)</div><div class="ttdef"><b>Definition:</b> TOracleServerE2.cxx:1032</div></div>
<div class="ttc" id="aclassTOracleServerE2_html_ae2d46037367a85cde34d39e9e5feb8ea"><div class="ttname"><a href="classTOracleServerE2.html#ae2d46037367a85cde34d39e9e5feb8ea">TOracleServerE2::DumpBrickVolumesID</a></div><div class="ttdeci">Int_t DumpBrickVolumesID(char *id_eventbrick)</div><div class="ttdef"><b>Definition:</b> TOracleServerE2.cxx:1098</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a738392287e8f31ed2a938dece1daac21"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a738392287e8f31ed2a938dece1daac21">&#9670;&nbsp;</a></span>PrintBrickInfoFull()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="Milproto_8h.html#ad25c00c18486b3c83c838f69f1af4204">void</a> TOracleServerE2::PrintBrickInfoFull </td>
          <td>(</td>
          <td class="paramtype">Long_t&#160;</td>
          <td class="paramname"><em>id_eventbrick</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>level</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;{</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="RecDispMC_8C.html#a9c17c69ba70b395ab079a56d5fe24450">brick</a>&lt;1000000) {</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;    <a class="code" href="classTOracleServerE2.html#aede5fe3ae31fb6ea67403fa4a996ce80">PrintBrickInfo</a>( 4000000 + <a class="code" href="RecDispMC_8C.html#a9c17c69ba70b395ab079a56d5fe24450">brick</a>, level );</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;    <a class="code" href="classTOracleServerE2.html#aede5fe3ae31fb6ea67403fa4a996ce80">PrintBrickInfo</a>( 3000000 + <a class="code" href="RecDispMC_8C.html#a9c17c69ba70b395ab079a56d5fe24450">brick</a>, level );</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;    <a class="code" href="classTOracleServerE2.html#aede5fe3ae31fb6ea67403fa4a996ce80">PrintBrickInfo</a>( 2000000 + <a class="code" href="RecDispMC_8C.html#a9c17c69ba70b395ab079a56d5fe24450">brick</a>, level );</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;    <a class="code" href="classTOracleServerE2.html#aede5fe3ae31fb6ea67403fa4a996ce80">PrintBrickInfo</a>( 1000000 + <a class="code" href="RecDispMC_8C.html#a9c17c69ba70b395ab079a56d5fe24450">brick</a>, level );</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;    <a class="code" href="classTOracleServerE2.html#a70edeca124111d1964c475cfcbec28c0">DumpEventsID</a>(Form(<span class="stringliteral">&quot;%ld&quot;</span>,<a class="code" href="RecDispMC_8C.html#a9c17c69ba70b395ab079a56d5fe24450">brick</a>));</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;  }  <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;    <a class="code" href="classTOracleServerE2.html#aede5fe3ae31fb6ea67403fa4a996ce80">PrintBrickInfo</a>( <a class="code" href="RecDispMC_8C.html#a9c17c69ba70b395ab079a56d5fe24450">brick</a>, level );</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;    <a class="code" href="classTOracleServerE2.html#a70edeca124111d1964c475cfcbec28c0">DumpEventsID</a>( Form(<span class="stringliteral">&quot;%ld&quot;</span>,<a class="code" href="RecDispMC_8C.html#a9c17c69ba70b395ab079a56d5fe24450">brick</a>%1000000));</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;  }</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;}</div>
<div class="ttc" id="aclassTOracleServerE2_html_aede5fe3ae31fb6ea67403fa4a996ce80"><div class="ttname"><a href="classTOracleServerE2.html#aede5fe3ae31fb6ea67403fa4a996ce80">TOracleServerE2::PrintBrickInfo</a></div><div class="ttdeci">void PrintBrickInfo(Long_t id_eventbrick, int level)</div><div class="ttdef"><b>Definition:</b> TOracleServerE2.cxx:1379</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a87e90248c4648fde2351d86b81e8d9a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a87e90248c4648fde2351d86b81e8d9a4">&#9670;&nbsp;</a></span>ReadBasetracksPattern()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Int_t TOracleServerE2::ReadBasetracksPattern </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>selection</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classEdbPattern.html">EdbPattern</a> &amp;&#160;</td>
          <td class="paramname"><em>pat</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>!! a kind of hack</p>
<div class="fragment"><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;{</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;  <span class="comment">// read basetracks from the tb_mipbasetracks table using the given selection string</span></div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160; </div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;  <span class="keywordtype">int</span> ntracks=0;</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;  <span class="keywordtype">char</span> query[2048];</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;  <span class="keywordflow">try</span>{</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>)</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;      <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a> = <a class="code" href="classTOracleServer.html#a25a4dd472f3dcdaaa5cb45710a9dc074">fConn</a>-&gt;createStatement();</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;    sprintf(query, <span class="stringliteral">&quot;SELECT \</span></div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;<span class="stringliteral">  ID_EVENTBRICK, id_zone, ID, POSX, POSY, SLOPEX, SLOPEY, GRAINS, AREASUM, PH, SIGMA \</span></div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;<span class="stringliteral">  from tb_mipbasetracks%s where %s&quot;</span>,<a class="code" href="classTOracleServerE2.html#a20ccaf6deeb3f799267619e16df37c8e">eRTS</a>.Data(),</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;        selection);</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;    <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>-&gt;setSQL(query);</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;    <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>-&gt;setPrefetchRowCount(2000);</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;    <a class="code" href="EdbLog_8cxx.html#a1134cd5954374a4bd1ead6fcade87e93">Log</a>(2,<span class="stringliteral">&quot;ReadBasetracksPattern&quot;</span>,<span class="stringliteral">&quot;execute sql query: %s ...&quot;</span>,query);</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;    <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>-&gt;execute();</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;    ResultSet *rs = <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>-&gt;getResultSet();</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;    <a class="code" href="classEdbSegP.html">EdbSegP</a> seg;</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;    <span class="keywordflow">while</span> (rs-&gt;next()){</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;      seg.<a class="code" href="classEdbSegP.html#affb922723872eb762b1392f9abb4cadb">Set</a>(</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;          rs-&gt;getInt(3),    <span class="comment">//id</span></div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;          rs-&gt;getFloat(4),  <span class="comment">//posx</span></div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;          rs-&gt;getFloat(5),  <span class="comment">//posy</span></div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;          rs-&gt;getFloat(6),  <span class="comment">//slopex</span></div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;          rs-&gt;getFloat(7),  <span class="comment">//slopey</span></div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;          rs-&gt;getInt(8),    <span class="comment">//grains</span></div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;          0                 <span class="comment">//flag</span></div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;          );</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;      seg.<a class="code" href="classEdbSegP.html#a731335661cd2332599c620c2e4c4cba3">SetZ</a>(pat.<a class="code" href="classEdbSegmentsBox.html#a1c9bdfb744e705a703f3a2be8af130ca">Z</a>());</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;      seg.<a class="code" href="classEdbSegP.html#ab8c3afe40cf463547712a635f005ccef">SetDZ</a>(300.);                          </div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;      seg.<a class="code" href="classEdbSegP.html#a034d303b66940bc28cd19cbbfaaffbae">SetVolume</a>(rs-&gt;getInt(10));</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;      seg.<a class="code" href="classEdbSegP.html#ac398344c28e1feb0facdede3cd2ad3ff">SetVid</a>(pat.<a class="code" href="classEdbPattern.html#a3ab9288b886801985f6f43734539d580">PID</a>(),0);          <span class="comment">// keep in a segment also plate ID (by Ale)</span></div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;      pat.<a class="code" href="classEdbSegmentsBox.html#aed4682524457fecb67eb3841f542cd42">AddSegment</a>(seg);</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;      ntracks++;</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;    }</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;    <span class="keyword">delete</span> rs;</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;  } <span class="keywordflow">catch</span> (SQLException &amp;oraex)  {</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;    Error(<span class="stringliteral">&quot;TOracleServerE&quot;</span>, <span class="stringliteral">&quot;ReadBasetracksPattern failed: (error: %s)&quot;</span>, (oraex.getMessage()).c_str());</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;  }</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;  <a class="code" href="EdbLog_8cxx.html#a1134cd5954374a4bd1ead6fcade87e93">Log</a>(2,<span class="stringliteral">&quot;ReadBasetracksPattern&quot;</span>,<span class="stringliteral">&quot;%d segments are read\n&quot;</span>, ntracks);</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;  <span class="keywordflow">return</span> ntracks;</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;}</div>
<div class="ttc" id="aclassEdbPattern_html_a3ab9288b886801985f6f43734539d580"><div class="ttname"><a href="classEdbPattern.html#a3ab9288b886801985f6f43734539d580">EdbPattern::PID</a></div><div class="ttdeci">int PID() const</div><div class="ttdef"><b>Definition:</b> EdbPattern.h:329</div></div>
<div class="ttc" id="aclassEdbSegP_html"><div class="ttname"><a href="classEdbSegP.html">EdbSegP</a></div><div class="ttdef"><b>Definition:</b> EdbSegP.h:18</div></div>
<div class="ttc" id="aclassEdbSegP_html_a034d303b66940bc28cd19cbbfaaffbae"><div class="ttname"><a href="classEdbSegP.html#a034d303b66940bc28cd19cbbfaaffbae">EdbSegP::SetVolume</a></div><div class="ttdeci">void SetVolume(float w)</div><div class="ttdef"><b>Definition:</b> EdbSegP.h:133</div></div>
<div class="ttc" id="aclassEdbSegP_html_a731335661cd2332599c620c2e4c4cba3"><div class="ttname"><a href="classEdbSegP.html#a731335661cd2332599c620c2e4c4cba3">EdbSegP::SetZ</a></div><div class="ttdeci">void SetZ(float z)</div><div class="ttdef"><b>Definition:</b> EdbSegP.h:122</div></div>
<div class="ttc" id="aclassEdbSegP_html_ab8c3afe40cf463547712a635f005ccef"><div class="ttname"><a href="classEdbSegP.html#ab8c3afe40cf463547712a635f005ccef">EdbSegP::SetDZ</a></div><div class="ttdeci">void SetDZ(float dz)</div><div class="ttdef"><b>Definition:</b> EdbSegP.h:123</div></div>
<div class="ttc" id="aclassEdbSegP_html_ac398344c28e1feb0facdede3cd2ad3ff"><div class="ttname"><a href="classEdbSegP.html#ac398344c28e1feb0facdede3cd2ad3ff">EdbSegP::SetVid</a></div><div class="ttdeci">void SetVid(int vid, int sid)</div><div class="ttdef"><b>Definition:</b> EdbSegP.h:134</div></div>
<div class="ttc" id="aclassEdbSegP_html_affb922723872eb762b1392f9abb4cadb"><div class="ttname"><a href="classEdbSegP.html#affb922723872eb762b1392f9abb4cadb">EdbSegP::Set</a></div><div class="ttdeci">void Set(int id, float x, float y, float tx, float ty, float w, int flag)</div><div class="ttdef"><b>Definition:</b> EdbSegP.h:86</div></div>
<div class="ttc" id="aclassEdbSegmentsBox_html_a1c9bdfb744e705a703f3a2be8af130ca"><div class="ttname"><a href="classEdbSegmentsBox.html#a1c9bdfb744e705a703f3a2be8af130ca">EdbSegmentsBox::Z</a></div><div class="ttdeci">Float_t Z() const</div><div class="ttdef"><b>Definition:</b> EdbPattern.h:87</div></div>
<div class="ttc" id="aclassEdbSegmentsBox_html_aed4682524457fecb67eb3841f542cd42"><div class="ttname"><a href="classEdbSegmentsBox.html#aed4682524457fecb67eb3841f542cd42">EdbSegmentsBox::AddSegment</a></div><div class="ttdeci">EdbSegP * AddSegment(int i, EdbSegP &amp;s)</div><div class="ttdef"><b>Definition:</b> EdbPattern.cxx:71</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a4cd22c28ec9424f455196c3ad8a2f413"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4cd22c28ec9424f455196c3ad8a2f413">&#9670;&nbsp;</a></span>ReadBrickOffset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Int_t TOracleServerE2::ReadBrickOffset </td>
          <td>(</td>
          <td class="paramtype">Int_t&#160;</td>
          <td class="paramname"><em>id_brick</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classEdbMarksSet.html">EdbMarksSet</a> &amp;&#160;</td>
          <td class="paramname"><em>ms</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;{</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;  ms.<a class="code" href="classEdbMarksSet.html#a042494d3d8274e5cde5b3c8156b01bd8">GetAbsolute</a>()-&gt;<a class="code" href="classEdbMarksBox.html#a3a4a947e46b6eff89735f5ed0882ea47">GetMarks</a>()-&gt;Clear(<span class="stringliteral">&quot;C&quot;</span>);</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;  ms.<a class="code" href="classEdbMarksSet.html#a02ee05c209db76b2de4c3d21816eedfd">eBrick</a> = id_brick;</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160; </div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;  <span class="keywordtype">char</span> *query= <span class="keyword">new</span> <span class="keywordtype">char</span>[2048];</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160; </div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;  <span class="keywordflow">try</span>{</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>)</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;      <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a> = <a class="code" href="classTOracleServer.html#a25a4dd472f3dcdaaa5cb45710a9dc074">fConn</a>-&gt;createStatement();</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160; </div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    sprintf(query,</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;        <span class="stringliteral">&quot;select MINX_CM*10000,MINY_CM*10000 from tb_opera_predicted_bricks%s \</span></div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;<span class="stringliteral">             where id_event in \</span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;<span class="stringliteral">             (select id_event from tb_b_bmm_brick_extractions%s where id_eventbrick = 1000000+%d) \</span></div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;<span class="stringliteral">             and id_eventbrick = 1000000+%d&quot;</span>,</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;        <a class="code" href="classTOracleServerE2.html#a20ccaf6deeb3f799267619e16df37c8e">eRTS</a>.Data(),<a class="code" href="classTOracleServerE2.html#a20ccaf6deeb3f799267619e16df37c8e">eRTS</a>.Data(),id_brick,id_brick);</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>-&gt;setSQL(query);</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    <a class="code" href="EdbLog_8cxx.html#a1134cd5954374a4bd1ead6fcade87e93">Log</a>(2,<span class="stringliteral">&quot;ReadBrickOffset&quot;</span>,<span class="stringliteral">&quot;execute sql query: %s ...&quot;</span>,query);</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>-&gt;execute();</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    ResultSet *rs = <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>-&gt;getResultSet();</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <span class="keywordflow">while</span> (rs-&gt;next()){</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;      ms.<a class="code" href="classEdbMarksSet.html#a076401bdb95d68d0fbffc52357e738a1">eXmin</a> = rs-&gt;getFloat(1);</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;      ms.<a class="code" href="classEdbMarksSet.html#af33a52a8adba1a86135245a6b44aca3c">eXmax</a> = 0.;</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;      ms.<a class="code" href="classEdbMarksSet.html#a1704603e5d4048172ab1f918b5dd84cd">eYmin</a> = rs-&gt;getFloat(2);</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;      ms.<a class="code" href="classEdbMarksSet.html#a69320c8848718b420fe8cb252c20a4f8">eYmax</a> = 0.;</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    }</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    <span class="keyword">delete</span> rs;</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160; </div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;  } <span class="keywordflow">catch</span> (SQLException &amp;oraex) {</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    Error(<span class="stringliteral">&quot;TOracleServerE::ReadBrickOffset&quot;</span>, <span class="stringliteral">&quot;Error!!! %s&quot;</span>, (oraex.getMessage()).c_str());</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;  }</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;  <span class="keywordflow">return</span> (0);</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;}</div>
<div class="ttc" id="aclassEdbMarksBox_html_a3a4a947e46b6eff89735f5ed0882ea47"><div class="ttname"><a href="classEdbMarksBox.html#a3a4a947e46b6eff89735f5ed0882ea47">EdbMarksBox::GetMarks</a></div><div class="ttdeci">TClonesArray * GetMarks() const</div><div class="ttdef"><b>Definition:</b> EdbFiducial.h:72</div></div>
<div class="ttc" id="aclassEdbMarksSet_html_a02ee05c209db76b2de4c3d21816eedfd"><div class="ttname"><a href="classEdbMarksSet.html#a02ee05c209db76b2de4c3d21816eedfd">EdbMarksSet::eBrick</a></div><div class="ttdeci">Long_t eBrick</div><div class="ttdef"><b>Definition:</b> EdbFiducial.h:98</div></div>
<div class="ttc" id="aclassEdbMarksSet_html_a042494d3d8274e5cde5b3c8156b01bd8"><div class="ttname"><a href="classEdbMarksSet.html#a042494d3d8274e5cde5b3c8156b01bd8">EdbMarksSet::GetAbsolute</a></div><div class="ttdeci">EdbMarksBox * GetAbsolute() const</div><div class="ttdef"><b>Definition:</b> EdbFiducial.h:109</div></div>
<div class="ttc" id="aclassEdbMarksSet_html_a076401bdb95d68d0fbffc52357e738a1"><div class="ttname"><a href="classEdbMarksSet.html#a076401bdb95d68d0fbffc52357e738a1">EdbMarksSet::eXmin</a></div><div class="ttdeci">Float_t eXmin</div><div class="ttdef"><b>Definition:</b> EdbFiducial.h:96</div></div>
<div class="ttc" id="aclassEdbMarksSet_html_a1704603e5d4048172ab1f918b5dd84cd"><div class="ttname"><a href="classEdbMarksSet.html#a1704603e5d4048172ab1f918b5dd84cd">EdbMarksSet::eYmin</a></div><div class="ttdeci">Float_t eYmin</div><div class="ttdef"><b>Definition:</b> EdbFiducial.h:97</div></div>
<div class="ttc" id="aclassEdbMarksSet_html_a69320c8848718b420fe8cb252c20a4f8"><div class="ttname"><a href="classEdbMarksSet.html#a69320c8848718b420fe8cb252c20a4f8">EdbMarksSet::eYmax</a></div><div class="ttdeci">Float_t eYmax</div><div class="ttdef"><b>Definition:</b> EdbFiducial.h:97</div></div>
<div class="ttc" id="aclassEdbMarksSet_html_af33a52a8adba1a86135245a6b44aca3c"><div class="ttname"><a href="classEdbMarksSet.html#af33a52a8adba1a86135245a6b44aca3c">EdbMarksSet::eXmax</a></div><div class="ttdeci">Float_t eXmax</div><div class="ttdef"><b>Definition:</b> EdbFiducial.h:96</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="abc9b781c6c5b1f163c392e02e6953228"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc9b781c6c5b1f163c392e02e6953228">&#9670;&nbsp;</a></span>ReadCSPredictions()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Int_t TOracleServerE2::ReadCSPredictions </td>
          <td>(</td>
          <td class="paramtype">Int_t&#160;</td>
          <td class="paramname"><em>id_brick</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classEdbPattern.html">EdbPattern</a> &amp;&#160;</td>
          <td class="paramname"><em>pred</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;{</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;  <span class="comment">// Fills an EdbPattern object with CS predictions</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;  <span class="comment">// bugged version. Please use ReadCSPredictions2() instead</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160; </div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;  pred.<a class="code" href="classEdbPattern.html#a02ce2e9ce3445551fb7d3b2ef2f6b477">Reset</a>();</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;  <span class="keywordtype">char</span> *query= <span class="keyword">new</span> <span class="keywordtype">char</span>[2048];</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160; </div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;  <span class="keywordflow">try</span>{</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>)</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;      <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a> = <a class="code" href="classTOracleServer.html#a25a4dd472f3dcdaaa5cb45710a9dc074">fConn</a>-&gt;createStatement();</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160; </div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    <span class="comment">// select * from vw_cs_candidates@opita01 vwcs </span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    <span class="comment">// inner join tb_cs_candidate_validation@opita01 vld on (vld.id_candidate= vwcs.id_candidate)</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    <span class="comment">// where vld.id_eventbrick = 3021343 and vld.valid = &#39;Y&#39;;</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160; </div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    sprintf(query,</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;        <span class="stringliteral">&quot;select cand,posx,posy,slopex,slopey,grains from vw_local_cs_candidates%s where id_cs_eventbrick in (select id from tb_eventbricks where id_brick=%d) and id_plate=2&quot;</span>,</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;        <a class="code" href="classTOracleServerE2.html#a20ccaf6deeb3f799267619e16df37c8e">eRTS</a>.Data(),id_brick);</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    </div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>-&gt;setSQL(query);</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    <a class="code" href="EdbLog_8cxx.html#a1134cd5954374a4bd1ead6fcade87e93">Log</a>(2,<span class="stringliteral">&quot;ReadCSPredictions&quot;</span>,<span class="stringliteral">&quot;execute sql query: %s ...&quot;</span>,query);</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>-&gt;execute();</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    ResultSet *rs = <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>-&gt;getResultSet();</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    <span class="keywordflow">while</span> (rs-&gt;next()){</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;      pred.<a class="code" href="classEdbSegmentsBox.html#aed4682524457fecb67eb3841f542cd42">AddSegment</a>(rs-&gt;getInt(1),rs-&gt;getFloat(2),rs-&gt;getFloat(3),rs-&gt;getFloat(4),rs-&gt;getFloat(5),</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;              rs-&gt;getInt(6),0);</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    }</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    <span class="keyword">delete</span> rs;</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160; </div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;  } <span class="keywordflow">catch</span> (SQLException &amp;oraex) {</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    Error(<span class="stringliteral">&quot;TOracleServerE::ReadCSPredictions&quot;</span>, <span class="stringliteral">&quot;Error!!! %s&quot;</span>, (oraex.getMessage()).c_str());</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;  }</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;  <span class="keywordflow">return</span> (pred.<a class="code" href="classEdbSegmentsBox.html#a6b968f65bb04ae51b3b9a606a21cd95f">N</a>());</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;}</div>
<div class="ttc" id="aclassEdbPattern_html_a02ce2e9ce3445551fb7d3b2ef2f6b477"><div class="ttname"><a href="classEdbPattern.html#a02ce2e9ce3445551fb7d3b2ef2f6b477">EdbPattern::Reset</a></div><div class="ttdeci">void Reset()</div><div class="ttdef"><b>Definition:</b> EdbPattern.cxx:1632</div></div>
<div class="ttc" id="aclassEdbSegmentsBox_html_a6b968f65bb04ae51b3b9a606a21cd95f"><div class="ttname"><a href="classEdbSegmentsBox.html#a6b968f65bb04ae51b3b9a606a21cd95f">EdbSegmentsBox::N</a></div><div class="ttdeci">Int_t N() const</div><div class="ttdef"><b>Definition:</b> EdbPattern.h:89</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad58b68341094648bd65eaf5a88ffeec8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad58b68341094648bd65eaf5a88ffeec8">&#9670;&nbsp;</a></span>ReadCSPredictions2()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Int_t TOracleServerE2::ReadCSPredictions2 </td>
          <td>(</td>
          <td class="paramtype">Int_t&#160;</td>
          <td class="paramname"><em>id_brick</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classEdbPattern.html">EdbPattern</a> &amp;&#160;</td>
          <td class="paramname"><em>pred</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;{</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;  <span class="comment">// Fills an EdbPattern object with CS predictions</span></div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  <span class="comment">// The query is better than the one in ReadCSPredictions because takes</span></div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;  <span class="comment">// into account also the 3 over 4 selection</span></div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160; </div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;  pred.<a class="code" href="classEdbPattern.html#a02ce2e9ce3445551fb7d3b2ef2f6b477">Reset</a>();</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;  <a class="code" href="classEdbSegP.html">EdbSegP</a> seg;</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;  <span class="keywordtype">char</span> *query= <span class="keyword">new</span> <span class="keywordtype">char</span>[2048];</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160; </div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;  <span class="keywordflow">try</span>{</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>)</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;      <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a> = <a class="code" href="classTOracleServer.html#a25a4dd472f3dcdaaa5cb45710a9dc074">fConn</a>-&gt;createStatement();</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160; </div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    <span class="comment">// select * from vw_cs_candidates@opita01 vwcs </span></div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <span class="comment">// inner join tb_cs_candidate_validation@opita01 vld on (vld.id_candidate= vwcs.id_candidate)</span></div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    <span class="comment">// where vld.id_eventbrick = 3021343 and vld.valid = &#39;Y&#39;;</span></div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160; </div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    sprintf(query,</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;            <span class="stringliteral">&quot;select cand, posx, posy, slopex, slopey, grains, id_plate from \</span></div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;<span class="stringliteral">                (select idcand, cand, posx, posy, slopex, slopey, id_plate, grains, row_number() \</span></div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;<span class="stringliteral">                over (partition by idcand order by grains desc, id_plate desc) as rnum from \</span></div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;<span class="stringliteral">                vw_local_cs_candidates where id_cs_eventbrick in \</span></div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;<span class="stringliteral">                (select id from tb_eventbricks where mod(id_brick,1000000)=%d)) \</span></div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;<span class="stringliteral">                where rnum = 1 order by cand&quot;</span>,</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;            id_brick);</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    </div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>-&gt;setSQL(query);</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    <a class="code" href="EdbLog_8cxx.html#a1134cd5954374a4bd1ead6fcade87e93">Log</a>(2,<span class="stringliteral">&quot;ReadCSPredictions2&quot;</span>,<span class="stringliteral">&quot;execute sql query: %s ...&quot;</span>,query);</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>-&gt;execute();</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    ResultSet *rs = <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>-&gt;getResultSet();</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    <span class="keywordflow">while</span> (rs-&gt;next()){</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;      seg.<a class="code" href="classEdbSegP.html#affb922723872eb762b1392f9abb4cadb">Set</a>(rs-&gt;getInt(1),rs-&gt;getFloat(2),rs-&gt;getFloat(3),rs-&gt;getFloat(4),rs-&gt;getFloat(5),</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;              rs-&gt;getInt(6),0);</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;      seg.<a class="code" href="classEdbSegP.html#a0569437c620e92bdc573c2974561619f">SetPID</a>(rs-&gt;getInt(7));</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;      pred.<a class="code" href="classEdbSegmentsBox.html#aed4682524457fecb67eb3841f542cd42">AddSegment</a>(seg);</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    }</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <span class="keyword">delete</span> rs;</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160; </div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;  } <span class="keywordflow">catch</span> (SQLException &amp;oraex) {</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    Error(<span class="stringliteral">&quot;TOracleServerE::ReadCSPredictions2&quot;</span>, <span class="stringliteral">&quot;Error!!! %s&quot;</span>, (oraex.getMessage()).c_str());</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;  }</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;  <span class="keywordflow">return</span> (pred.<a class="code" href="classEdbSegmentsBox.html#a6b968f65bb04ae51b3b9a606a21cd95f">N</a>());</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;}</div>
<div class="ttc" id="aclassEdbSegP_html_a0569437c620e92bdc573c2974561619f"><div class="ttname"><a href="classEdbSegP.html#a0569437c620e92bdc573c2974561619f">EdbSegP::SetPID</a></div><div class="ttdeci">void SetPID(int pid)</div><div class="ttdef"><b>Definition:</b> EdbSegP.h:126</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5bb688ae3d696582c5e7e8c5750e5698"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5bb688ae3d696582c5e7e8c5750e5698">&#9670;&nbsp;</a></span>ReadCSPredictions_remote_v2()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Int_t TOracleServerE2::ReadCSPredictions_remote_v2 </td>
          <td>(</td>
          <td class="paramtype">Int_t&#160;</td>
          <td class="paramname"><em>id_brick</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classEdbPattern.html">EdbPattern</a> &amp;&#160;</td>
          <td class="paramname"><em>pred</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>csid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;{</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;  <span class="comment">// Fills an EdbPattern object with CS predictions</span></div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;  <span class="comment">// The query is better than the one in ReadCSPredictions because takes</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;  <span class="comment">// into account also the 3 over 4 selection</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;  <span class="comment">// csid: 1 or 2</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160; </div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;  pred.<a class="code" href="classEdbPattern.html#a02ce2e9ce3445551fb7d3b2ef2f6b477">Reset</a>();</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;  <a class="code" href="classEdbSegP.html">EdbSegP</a> seg;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;  <span class="keywordtype">char</span> *query= <span class="keyword">new</span> <span class="keywordtype">char</span>[2048];</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160; </div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;  <span class="keywordflow">try</span>{</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>)</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;      <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a> = <a class="code" href="classTOracleServer.html#a25a4dd472f3dcdaaa5cb45710a9dc074">fConn</a>-&gt;createStatement();</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160; </div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <span class="keywordflow">if</span>(csid==1) {</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;      sprintf(query, <span class="stringliteral">&quot;select distinct candidate,posx_1,posy_1,slopex_1,slopey_1,grains_1 from vw_cs_candidates_v2 where mod(id_eventbrick,1000000)=%d order by candidate&quot;</span>, id_brick);</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(csid==2) {</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;      sprintf(query, <span class="stringliteral">&quot;select distinct candidate,posx_2,posy_2,slopex_2,slopey_2,grains_2 from vw_cs_candidates_v2 where mod(id_eventbrick,1000000)=%d order by candidate&quot;</span>, id_brick);</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    }</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160; </div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>-&gt;setSQL(query);</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <a class="code" href="EdbLog_8cxx.html#a1134cd5954374a4bd1ead6fcade87e93">Log</a>(2,<span class="stringliteral">&quot;ReadCSPredictions2&quot;</span>,<span class="stringliteral">&quot;execute sql query: %s ...&quot;</span>,query);</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>-&gt;execute();</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    ResultSet *rs = <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>-&gt;getResultSet();</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    <span class="keywordflow">while</span> (rs-&gt;next()){</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;      seg.<a class="code" href="classEdbSegP.html#affb922723872eb762b1392f9abb4cadb">Set</a>(rs-&gt;getInt(1),rs-&gt;getFloat(2),rs-&gt;getFloat(3),rs-&gt;getFloat(4),rs-&gt;getFloat(5),</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;          rs-&gt;getInt(6),0);</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;      seg.<a class="code" href="classEdbSegP.html#a0569437c620e92bdc573c2974561619f">SetPID</a>(csid);</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;      pred.<a class="code" href="classEdbSegmentsBox.html#aed4682524457fecb67eb3841f542cd42">AddSegment</a>(seg);</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    }</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <span class="keyword">delete</span> rs;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160; </div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;  } <span class="keywordflow">catch</span> (SQLException &amp;oraex) {</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    Error(<span class="stringliteral">&quot;TOracleServerE::ReadCSPredictions2&quot;</span>, <span class="stringliteral">&quot;Error!!! %s&quot;</span>, (oraex.getMessage()).c_str());</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;  }</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;  <span class="keywordflow">return</span> (pred.<a class="code" href="classEdbSegmentsBox.html#a6b968f65bb04ae51b3b9a606a21cd95f">N</a>());</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a26b3e1c06571435b0490384806a4528f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a26b3e1c06571435b0490384806a4528f">&#9670;&nbsp;</a></span>ReadDataSet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Int_t TOracleServerE2::ReadDataSet </td>
          <td>(</td>
          <td class="paramtype">ULong64_t&#160;</td>
          <td class="paramname"><em>id_parent_op</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id_brick</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ULong64_t&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classEdbPatternsVolume.html">EdbPatternsVolume</a> &amp;&#160;</td>
          <td class="paramname"><em>vol</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;{</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;  <span class="comment">// read all basetracks patterns corresponsing to the given parent process for the given brick and given path (&quot;series&quot; in tb_zones table)</span></div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;  <span class="comment">// TO CHECK: this set of selection parameters guarantee the consistence and uniqueness of data? (all data of calibration/scanback/totalscan, etc)</span></div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;  <span class="keywordtype">int</span>  nsegtot=0;</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;  <span class="keywordtype">char</span> query[2048];</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="Xi2HatStartScript_8C.html#a2da5953c416c478bd7431118ff63b1b5">npat</a> = 0;</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;  TObjArray patterns(100);</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;  ULong64_t *proc_list = <span class="keyword">new</span> ULong64_t[100];</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;  <a class="code" href="classEdbPattern.html">EdbPattern</a> *pat=0;</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;  <span class="keywordflow">try</span>{</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>)</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;      <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a> = <a class="code" href="classTOracleServer.html#a25a4dd472f3dcdaaa5cb45710a9dc074">fConn</a>-&gt;createStatement();</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160; </div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    sprintf(query,<span class="stringliteral">&quot;\</span></div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;<span class="stringliteral"> select to_char(op.id), op.id_plate, pl.z, op.success \</span></div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;<span class="stringliteral"> from tb_proc_operations%s op, tb_plates%s pl \</span></div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;<span class="stringliteral"> where op.id_eventbrick=%d and pl.id_eventbrick=%d and pl.id=op.id_plate and op.id_parent_operation=%lld \</span></div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;<span class="stringliteral"> order by op.id_plate&quot;</span>, <a class="code" href="classTOracleServerE2.html#a20ccaf6deeb3f799267619e16df37c8e">eRTS</a>.Data(), <a class="code" href="classTOracleServerE2.html#a20ccaf6deeb3f799267619e16df37c8e">eRTS</a>.Data(),</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;        id_brick, id_brick, id_parent_op);</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160; </div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>-&gt;setSQL(query);</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    <a class="code" href="EdbLog_8cxx.html#a1134cd5954374a4bd1ead6fcade87e93">Log</a>(2,<span class="stringliteral">&quot;ReadDataSet&quot;</span>,<span class="stringliteral">&quot;execute sql query: %s ...&quot;</span>,query);</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>-&gt;execute();</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    ResultSet *rs = <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>-&gt;getResultSet();</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160; </div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    ULong64_t procop=0LL;</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    <span class="keywordtype">float</span> z=0;</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="merge__Energy__SytematicSources__Electron_8C.html#a120e8eebe88c70d8763b145e800984dc">plate</a>=0;</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    <a class="code" href="Xi2HatStartScript_8C.html#a2da5953c416c478bd7431118ff63b1b5">npat</a>=0;</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    <span class="keywordflow">while</span> (rs-&gt;next()){</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;      sscanf( (rs-&gt;getString(1)).c_str(),<span class="stringliteral">&quot;%lld&quot;</span>, &amp;procop );</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;      <span class="keywordflow">if</span>(strncmp(rs-&gt;getString(4).c_str(),<span class="stringliteral">&quot;Y&quot;</span>,1)) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;      <a class="code" href="merge__Energy__SytematicSources__Electron_8C.html#a120e8eebe88c70d8763b145e800984dc">plate</a> = rs-&gt;getInt(2);</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;      z     = rs-&gt;getFloat(3);</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;      proc_list[<a class="code" href="Xi2HatStartScript_8C.html#a2da5953c416c478bd7431118ff63b1b5">npat</a>] = procop;</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;      <a class="code" href="Xi2HatStartScript_8C.html#a2da5953c416c478bd7431118ff63b1b5">npat</a>++;</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;      pat = <span class="keyword">new</span> <a class="code" href="classEdbPattern.html">EdbPattern</a>(0.,0.,z);</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;      pat-&gt;<a class="code" href="classEdbPattern.html#a37356e04720aa08db37509ecbd52244f">SetPID</a>(<a class="code" href="merge__Energy__SytematicSources__Electron_8C.html#a120e8eebe88c70d8763b145e800984dc">plate</a>);</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;      patterns.Add( pat );</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    }</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160; </div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;  } <span class="keywordflow">catch</span> (SQLException &amp;oraex) {</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    Error(<span class="stringliteral">&quot;TOracleServerE&quot;</span>, <span class="stringliteral">&quot;ReadPatternsVolume; failed: (error: %s)&quot;</span>, (oraex.getMessage()).c_str());</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;  }</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160; </div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="Xi2HatStartScript_8C.html#a2da5953c416c478bd7431118ff63b1b5">npat</a>; i++) {</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    pat = (<a class="code" href="classEdbPattern.html">EdbPattern</a>*)patterns.<a class="code" href="classEdbSegmentsBox.html#ae40d3bc813c3d82e327aa620cbd9c2ef">At</a>(i);</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="classTOracleServerE2.html#aad8aa3e790f83ed9fea59ad15a5306e4">ReadZplate</a>(id_brick, pat-&gt;<a class="code" href="classEdbPattern.html#a3ab9288b886801985f6f43734539d580">PID</a>(), *pat ) )</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;      { <a class="code" href="EdbLog_8cxx.html#a1134cd5954374a4bd1ead6fcade87e93">Log</a>(1,<span class="stringliteral">&quot;ReadDataSet&quot;</span>,<span class="stringliteral">&quot;skip plate %d %d !&quot;</span>, id_brick,pat-&gt;<a class="code" href="classEdbPattern.html#a3ab9288b886801985f6f43734539d580">PID</a>()); <span class="keywordflow">continue</span>; }</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    sprintf(query,<span class="stringliteral">&quot;id_zone in (select id from tb_zones%s where id_processoperation=%lld and id_plate=%d and series=%lld)&quot;</span>,<a class="code" href="classTOracleServerE2.html#a20ccaf6deeb3f799267619e16df37c8e">eRTS</a>.Data(),</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;        proc_list[i],pat-&gt;<a class="code" href="classEdbPattern.html#a3ab9288b886801985f6f43734539d580">PID</a>(), path);</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;    nsegtot  += <a class="code" href="classTOracleServerE2.html#a87e90248c4648fde2351d86b81e8d9a4">ReadBasetracksPattern</a>( query, *pat);</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    <a class="code" href="RecDispNU_8C.html#a4c9155762f5d32076a47da7c0524baf8">vol</a>.<a class="code" href="classEdbPatternsVolume.html#a18aa41d9837a397677b6ba9655ee6fec">AddPattern</a>(pat);</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;  }</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;  <a class="code" href="EdbLog_8cxx.html#a1134cd5954374a4bd1ead6fcade87e93">Log</a>(2,<span class="stringliteral">&quot;ReadDataSet&quot;</span>,<span class="stringliteral">&quot;%d segments extracted from db into PatternsVolume&quot;</span>,nsegtot);</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160; </div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;  <span class="keywordflow">return</span> nsegtot;</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;}</div>
<div class="ttc" id="aRecDispNU_8C_html_a4c9155762f5d32076a47da7c0524baf8"><div class="ttname"><a href="RecDispNU_8C.html#a4c9155762f5d32076a47da7c0524baf8">vol</a></div><div class="ttdeci">EdbPatternsVolume * vol</div><div class="ttdef"><b>Definition:</b> RecDispNU.C:116</div></div>
<div class="ttc" id="aXi2HatStartScript_8C_html_a2da5953c416c478bd7431118ff63b1b5"><div class="ttname"><a href="Xi2HatStartScript_8C.html#a2da5953c416c478bd7431118ff63b1b5">npat</a></div><div class="ttdeci">Int_t npat</div><div class="ttdef"><b>Definition:</b> Xi2HatStartScript.C:33</div></div>
<div class="ttc" id="aclassEdbPattern_html"><div class="ttname"><a href="classEdbPattern.html">EdbPattern</a></div><div class="ttdef"><b>Definition:</b> EdbPattern.h:280</div></div>
<div class="ttc" id="aclassEdbPattern_html_a37356e04720aa08db37509ecbd52244f"><div class="ttname"><a href="classEdbPattern.html#a37356e04720aa08db37509ecbd52244f">EdbPattern::SetPID</a></div><div class="ttdeci">void SetPID(int pid)</div><div class="ttdef"><b>Definition:</b> EdbPattern.h:319</div></div>
<div class="ttc" id="aclassEdbPatternsVolume_html_a18aa41d9837a397677b6ba9655ee6fec"><div class="ttname"><a href="classEdbPatternsVolume.html#a18aa41d9837a397677b6ba9655ee6fec">EdbPatternsVolume::AddPattern</a></div><div class="ttdeci">void AddPattern(EdbPattern *pat)</div><div class="ttdef"><b>Definition:</b> EdbPattern.cxx:1867</div></div>
<div class="ttc" id="aclassEdbSegmentsBox_html_ae40d3bc813c3d82e327aa620cbd9c2ef"><div class="ttname"><a href="classEdbSegmentsBox.html#ae40d3bc813c3d82e327aa620cbd9c2ef">EdbSegmentsBox::At</a></div><div class="ttdeci">EdbPoint * At(int i) const</div><div class="ttdef"><b>Definition:</b> EdbPattern.h:90</div></div>
<div class="ttc" id="aclassTOracleServerE2_html_a87e90248c4648fde2351d86b81e8d9a4"><div class="ttname"><a href="classTOracleServerE2.html#a87e90248c4648fde2351d86b81e8d9a4">TOracleServerE2::ReadBasetracksPattern</a></div><div class="ttdeci">Int_t ReadBasetracksPattern(char *selection, EdbPattern &amp;pat)</div><div class="ttdef"><b>Definition:</b> TOracleServerE2.cxx:598</div></div>
<div class="ttc" id="aclassTOracleServerE2_html_aad8aa3e790f83ed9fea59ad15a5306e4"><div class="ttname"><a href="classTOracleServerE2.html#aad8aa3e790f83ed9fea59ad15a5306e4">TOracleServerE2::ReadZplate</a></div><div class="ttdeci">bool ReadZplate(int id_plate, int id_eventbrick, EdbPattern &amp;pat)</div><div class="ttdef"><b>Definition:</b> TOracleServerE2.cxx:559</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9cbf38735695cd8ddb73e89edc535892"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9cbf38735695cd8ddb73e89edc535892">&#9670;&nbsp;</a></span>ReadMicrotracksPattern()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Int_t TOracleServerE2::ReadMicrotracksPattern </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id_eventbrick</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>selection</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classEdbPattern.html">EdbPattern</a> &amp;&#160;</td>
          <td class="paramname"><em>pat</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>!! a kind of hack</p>
<div class="fragment"><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;{</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;  <span class="comment">// read all microtracks from TB_MIPMICROTRACKS table for the given selection</span></div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160; </div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;  <span class="keywordtype">int</span> ntracks=0;</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;  <span class="keywordtype">char</span> query[2048];</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;  <span class="keywordflow">try</span>{</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>)</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;      <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a> = <a class="code" href="classTOracleServer.html#a25a4dd472f3dcdaaa5cb45710a9dc074">fConn</a>-&gt;createStatement();</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160; </div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;    sprintf(query, <span class="stringliteral">&quot;SELECT \</span></div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;<span class="stringliteral">  ID_EVENTBRICK, id_zone, ID, POSX, POSY, SLOPEX, SLOPEY, GRAINS, AREASUM, SIGMA, SIDE, ID_VIEW \</span></div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;<span class="stringliteral">  from TB_MIPMICROTRACKS%s where id_eventbrick=%d and %s&quot;</span>,<a class="code" href="classTOracleServerE2.html#a20ccaf6deeb3f799267619e16df37c8e">eRTS</a>.Data(),</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;        id_eventbrick, selection);</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160; </div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;    <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>-&gt;setSQL(query);</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;    <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>-&gt;setPrefetchRowCount(2000);</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;    <a class="code" href="EdbLog_8cxx.html#a1134cd5954374a4bd1ead6fcade87e93">Log</a>(2,<span class="stringliteral">&quot;ReadMicrotracksPattern&quot;</span>,<span class="stringliteral">&quot;execute sql query: %s ...&quot;</span>,query);</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;    <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>-&gt;execute();</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;    ResultSet *rs = <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>-&gt;getResultSet();</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;    <a class="code" href="classEdbSegP.html">EdbSegP</a> seg;</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;    <span class="keywordflow">while</span> (rs-&gt;next()){</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;      seg.<a class="code" href="classEdbSegP.html#affb922723872eb762b1392f9abb4cadb">Set</a>(</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;          rs-&gt;getInt(3),    <span class="comment">//id</span></div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;          rs-&gt;getFloat(4),  <span class="comment">//posx</span></div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;          rs-&gt;getFloat(5),  <span class="comment">//posy</span></div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;          rs-&gt;getFloat(6),  <span class="comment">//slopex</span></div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;          rs-&gt;getFloat(7),  <span class="comment">//slopey</span></div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;          rs-&gt;getInt(8),    <span class="comment">//grains</span></div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;          0                 <span class="comment">//flag</span></div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;          );</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;      seg.<a class="code" href="classEdbSegP.html#a99a65ed8cc0e58865f16ce07cdd5a845">SetSZ</a>(rs-&gt;getFloat(11)); <span class="comment">// put sigma here!</span></div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;      seg.<a class="code" href="classEdbSegP.html#a731335661cd2332599c620c2e4c4cba3">SetZ</a>(pat.<a class="code" href="classEdbSegmentsBox.html#a1c9bdfb744e705a703f3a2be8af130ca">Z</a>());</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;      seg.<a class="code" href="classEdbSegP.html#ab8c3afe40cf463547712a635f005ccef">SetDZ</a>(45.);                          </div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;      seg.<a class="code" href="classEdbSegP.html#a034d303b66940bc28cd19cbbfaaffbae">SetVolume</a>(rs-&gt;getInt(9));     <span class="comment">//areasum</span></div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;      seg.<a class="code" href="classEdbSegP.html#ac398344c28e1feb0facdede3cd2ad3ff">SetVid</a>(pat.<a class="code" href="classEdbPattern.html#a3ab9288b886801985f6f43734539d580">PID</a>(),0);          <span class="comment">// keep in a segment also plate ID (by Ale)</span></div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;      seg.<a class="code" href="classEdbSegP.html#af3fe25349e04e6c295a7b9cfd20fbced">SetAid</a>(0,rs-&gt;getInt(12), rs-&gt;getInt(11));     <span class="comment">// area id, view id, side</span></div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;      pat.<a class="code" href="classEdbSegmentsBox.html#aed4682524457fecb67eb3841f542cd42">AddSegment</a>(seg);</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;      ntracks++;</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;    }</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;    <span class="keyword">delete</span> rs;</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;  } <span class="keywordflow">catch</span> (SQLException &amp;oraex)  {</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;    Error(<span class="stringliteral">&quot;TOracleServerE2&quot;</span>, <span class="stringliteral">&quot;ReadMicrotracksPattern failed: (error: %s)&quot;</span>, (oraex.getMessage()).c_str());</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;  }</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;  <a class="code" href="EdbLog_8cxx.html#a1134cd5954374a4bd1ead6fcade87e93">Log</a>(2,<span class="stringliteral">&quot;ReadMicrotracksPattern&quot;</span>,<span class="stringliteral">&quot;%d segments are read&quot;</span>, ntracks);</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;  <span class="keywordflow">return</span> ntracks;</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;}</div>
<div class="ttc" id="aclassEdbSegP_html_a99a65ed8cc0e58865f16ce07cdd5a845"><div class="ttname"><a href="classEdbSegP.html#a99a65ed8cc0e58865f16ce07cdd5a845">EdbSegP::SetSZ</a></div><div class="ttdeci">void SetSZ(float sz)</div><div class="ttdef"><b>Definition:</b> EdbSegP.h:121</div></div>
<div class="ttc" id="aclassEdbSegP_html_af3fe25349e04e6c295a7b9cfd20fbced"><div class="ttname"><a href="classEdbSegP.html#af3fe25349e04e6c295a7b9cfd20fbced">EdbSegP::SetAid</a></div><div class="ttdeci">void SetAid(int a, int v, int side=0)</div><div class="ttdef"><b>Definition:</b> EdbSegP.h:135</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aac5dc7e0696a8675c7cea1bc0092f364"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac5dc7e0696a8675c7cea1bc0092f364">&#9670;&nbsp;</a></span>ReadMicrotracksZone()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Int_t TOracleServerE2::ReadMicrotracksZone </td>
          <td>(</td>
          <td class="paramtype">Int_t&#160;</td>
          <td class="paramname"><em>id_eventbrick</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ULong64_t&#160;</td>
          <td class="paramname"><em>id_zone</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>side</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TObjArray &amp;&#160;</td>
          <td class="paramname"><em>edbviews</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;{</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;  <span class="comment">// read all microtracks for the one side of the one zone</span></div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160; </div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;  <span class="keywordtype">char</span> selection[1024];</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;  sprintf(selection, <span class="stringliteral">&quot; id_zone=%lld and side=%d&quot;</span>, id_zone, side );</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;  <a class="code" href="classEdbPattern.html">EdbPattern</a> pat;</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;  <span class="keywordtype">int</span> nseg = <a class="code" href="classTOracleServerE2.html#a9cbf38735695cd8ddb73e89edc535892">ReadMicrotracksPattern</a>( id_eventbrick, selection, pat);</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160; </div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;  std::map&lt;int,EdbView*&gt; id_views;</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;  <a class="code" href="classEdbView.html">EdbView</a>     *v=0;</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt;edbviews.GetEntriesFast(); i++) {</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;    v = (<a class="code" href="classEdbView.html">EdbView</a>*)edbviews.At(i);</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;    id_views[v-&gt;<a class="code" href="classEdbView.html#a6026b4dfa6de8bcedd3e22e2ed1026b8">GetViewID</a>()]=v;</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;  }</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160; </div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;  <a class="code" href="classEdbSegment.html">EdbSegment</a>   sv;</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;  <a class="code" href="classEdbSegP.html">EdbSegP</a>    *sp=0;</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;  <span class="keywordtype">float</span> z=0;</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt;nseg; i++ ) {</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;    sp = pat.<a class="code" href="classEdbSegmentsBox.html#ab93b45d493db43af07cf6f35781401bc">GetSegment</a>(i);</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;    <span class="comment">//v = (EdbView*)edbviews.At(sp-&gt;Aid(1)-1);   // assume that views are in the order!</span></div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160; </div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;    v = id_views.find(sp-&gt;<a class="code" href="classEdbSegP.html#ad0ff3458264b7f360775dec2029475a0">Aid</a>(1))-&gt;second;       <span class="comment">// do not assume that views are in the order</span></div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;    <span class="keywordflow">if</span>(!v) {</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;      <a class="code" href="EdbLog_8cxx.html#a1134cd5954374a4bd1ead6fcade87e93">Log</a>(1,<span class="stringliteral">&quot;ReadMicrotracksZone&quot;</span>,<span class="stringliteral">&quot;ERROR! do not found view for segment with Aid: %d %d - skipped!&quot;</span>,sp-&gt;<a class="code" href="classEdbSegP.html#ad0ff3458264b7f360775dec2029475a0">Aid</a>(0),sp-&gt;<a class="code" href="classEdbSegP.html#ad0ff3458264b7f360775dec2029475a0">Aid</a>(1));</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;    }</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160; </div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;    <span class="keywordflow">if</span>(v-&gt;<a class="code" href="classEdbView.html#a4c023779b9ac13cbfdcf7ca30f012eed">GetNframesTop</a>()&gt;0) z = v-&gt;<a class="code" href="classEdbView.html#af461b7b433b94bb8283e2396bdf7b948">GetZ2</a>(); </div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;    <span class="keywordflow">else</span>                     z = v-&gt;<a class="code" href="classEdbView.html#a5ebdf3b914a96f10973f006ded220b75">GetZ3</a>();</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;    sv.<a class="code" href="classEdbSegment.html#a2cef4f86d97b42a0a93392c77ec35f9d">Set</a>( sp-&gt;<a class="code" href="classEdbSegP.html#a570b8d4c46a94a00c63723e5db828074">X</a>()-v-&gt;<a class="code" href="classEdbView.html#a124ce23a7c38d95fe26f0a3c37729b61">GetXview</a>(),</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;        sp-&gt;<a class="code" href="classEdbSegP.html#a887509a6dedfd666ff4762fdda2d5d07">Y</a>()-v-&gt;<a class="code" href="classEdbView.html#af6d7c03ff5b0bfb320fc73135eca6a40">GetYview</a>(),</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;        z,sp-&gt;<a class="code" href="classEdbSegP.html#a3fd1e1693a674bce953bb6e449686c60">TX</a>(),</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;        sp-&gt;<a class="code" href="classEdbSegP.html#acb4d7240c8ae339df4fd921fbfc97ee6">TY</a>(), </div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;        sp-&gt;<a class="code" href="classEdbSegP.html#a3f15b198edf4b1f8fbe6f918282231fe">DZ</a>(),         <span class="comment">// dz - not exist the real one??</span></div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;        side, </div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;        <span class="keywordtype">int</span>(sp-&gt;<a class="code" href="classEdbSegP.html#ab9f543ce17b1d6b98f3cbbc5657bc2c0">W</a>()), </div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;        0 );              <span class="comment">// id - where to get it???</span></div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;    sv.<a class="code" href="classEdbSegment.html#a31494734595e36dd195d2c645cfc7978">SetSigma</a>(sp-&gt;<a class="code" href="classEdbSegP.html#a520a7a704756542d8e1e5531a8c47e4b">SZ</a>(),0);</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;    v-&gt;<a class="code" href="classEdbView.html#a22a8574474c3343960106e686bd6805d">AddSegment</a>(&amp;sv);</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;  }</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160; </div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;  <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;}</div>
<div class="ttc" id="aclassEdbSegP_html_a3f15b198edf4b1f8fbe6f918282231fe"><div class="ttname"><a href="classEdbSegP.html#a3f15b198edf4b1f8fbe6f918282231fe">EdbSegP::DZ</a></div><div class="ttdeci">Float_t DZ() const</div><div class="ttdef"><b>Definition:</b> EdbSegP.h:151</div></div>
<div class="ttc" id="aclassEdbSegP_html_a3fd1e1693a674bce953bb6e449686c60"><div class="ttname"><a href="classEdbSegP.html#a3fd1e1693a674bce953bb6e449686c60">EdbSegP::TX</a></div><div class="ttdeci">Float_t TX() const</div><div class="ttdef"><b>Definition:</b> EdbSegP.h:172</div></div>
<div class="ttc" id="aclassEdbSegP_html_a520a7a704756542d8e1e5531a8c47e4b"><div class="ttname"><a href="classEdbSegP.html#a520a7a704756542d8e1e5531a8c47e4b">EdbSegP::SZ</a></div><div class="ttdeci">Float_t SZ() const</div><div class="ttdef"><b>Definition:</b> EdbSegP.h:164</div></div>
<div class="ttc" id="aclassEdbSegP_html_a570b8d4c46a94a00c63723e5db828074"><div class="ttname"><a href="classEdbSegP.html#a570b8d4c46a94a00c63723e5db828074">EdbSegP::X</a></div><div class="ttdeci">Float_t X() const</div><div class="ttdef"><b>Definition:</b> EdbSegP.h:170</div></div>
<div class="ttc" id="aclassEdbSegP_html_a887509a6dedfd666ff4762fdda2d5d07"><div class="ttname"><a href="classEdbSegP.html#a887509a6dedfd666ff4762fdda2d5d07">EdbSegP::Y</a></div><div class="ttdeci">Float_t Y() const</div><div class="ttdef"><b>Definition:</b> EdbSegP.h:171</div></div>
<div class="ttc" id="aclassEdbSegP_html_ab9f543ce17b1d6b98f3cbbc5657bc2c0"><div class="ttname"><a href="classEdbSegP.html#ab9f543ce17b1d6b98f3cbbc5657bc2c0">EdbSegP::W</a></div><div class="ttdeci">Float_t W() const</div><div class="ttdef"><b>Definition:</b> EdbSegP.h:148</div></div>
<div class="ttc" id="aclassEdbSegP_html_acb4d7240c8ae339df4fd921fbfc97ee6"><div class="ttname"><a href="classEdbSegP.html#acb4d7240c8ae339df4fd921fbfc97ee6">EdbSegP::TY</a></div><div class="ttdeci">Float_t TY() const</div><div class="ttdef"><b>Definition:</b> EdbSegP.h:173</div></div>
<div class="ttc" id="aclassEdbSegP_html_ad0ff3458264b7f360775dec2029475a0"><div class="ttname"><a href="classEdbSegP.html#ad0ff3458264b7f360775dec2029475a0">EdbSegP::Aid</a></div><div class="ttdeci">Int_t Aid(int i) const</div><div class="ttdef"><b>Definition:</b> EdbSegP.h:166</div></div>
<div class="ttc" id="aclassEdbSegment_html"><div class="ttname"><a href="classEdbSegment.html">EdbSegment</a></div><div class="ttdef"><b>Definition:</b> EdbSegment.h:61</div></div>
<div class="ttc" id="aclassEdbSegment_html_a2cef4f86d97b42a0a93392c77ec35f9d"><div class="ttname"><a href="classEdbSegment.html#a2cef4f86d97b42a0a93392c77ec35f9d">EdbSegment::Set</a></div><div class="ttdeci">void Set(float x, float y, float z, float tx, float ty, float dz=0, int side=0, int puls=0, int id=0)</div><div class="ttdef"><b>Definition:</b> EdbSegment.cxx:92</div></div>
<div class="ttc" id="aclassEdbSegment_html_a31494734595e36dd195d2c645cfc7978"><div class="ttname"><a href="classEdbSegment.html#a31494734595e36dd195d2c645cfc7978">EdbSegment::SetSigma</a></div><div class="ttdeci">void SetSigma(float sx, float sy)</div><div class="ttdef"><b>Definition:</b> EdbSegment.h:83</div></div>
<div class="ttc" id="aclassEdbSegmentsBox_html_ab93b45d493db43af07cf6f35781401bc"><div class="ttname"><a href="classEdbSegmentsBox.html#ab93b45d493db43af07cf6f35781401bc">EdbSegmentsBox::GetSegment</a></div><div class="ttdeci">EdbSegP * GetSegment(int i) const</div><div class="ttdef"><b>Definition:</b> EdbPattern.h:66</div></div>
<div class="ttc" id="aclassEdbView_html_a124ce23a7c38d95fe26f0a3c37729b61"><div class="ttname"><a href="classEdbView.html#a124ce23a7c38d95fe26f0a3c37729b61">EdbView::GetXview</a></div><div class="ttdeci">Float_t GetXview() const</div><div class="ttdef"><b>Definition:</b> EdbView.h:193</div></div>
<div class="ttc" id="aclassEdbView_html_a22a8574474c3343960106e686bd6805d"><div class="ttname"><a href="classEdbView.html#a22a8574474c3343960106e686bd6805d">EdbView::AddSegment</a></div><div class="ttdeci">EdbSegment * AddSegment(float x, float y, float z, float tx, float ty, float dz=0, int side=0, int puls=0, int id=-1)</div><div class="ttdef"><b>Definition:</b> EdbView.h:231</div></div>
<div class="ttc" id="aclassEdbView_html_a4c023779b9ac13cbfdcf7ca30f012eed"><div class="ttname"><a href="classEdbView.html#a4c023779b9ac13cbfdcf7ca30f012eed">EdbView::GetNframesTop</a></div><div class="ttdeci">Int_t GetNframesTop() const</div><div class="ttdef"><b>Definition:</b> EdbView.h:207</div></div>
<div class="ttc" id="aclassEdbView_html_a5ebdf3b914a96f10973f006ded220b75"><div class="ttname"><a href="classEdbView.html#a5ebdf3b914a96f10973f006ded220b75">EdbView::GetZ3</a></div><div class="ttdeci">Float_t GetZ3() const</div><div class="ttdef"><b>Definition:</b> EdbView.h:198</div></div>
<div class="ttc" id="aclassEdbView_html_a6026b4dfa6de8bcedd3e22e2ed1026b8"><div class="ttname"><a href="classEdbView.html#a6026b4dfa6de8bcedd3e22e2ed1026b8">EdbView::GetViewID</a></div><div class="ttdeci">Int_t GetViewID() const</div><div class="ttdef"><b>Definition:</b> EdbView.h:190</div></div>
<div class="ttc" id="aclassEdbView_html_af461b7b433b94bb8283e2396bdf7b948"><div class="ttname"><a href="classEdbView.html#af461b7b433b94bb8283e2396bdf7b948">EdbView::GetZ2</a></div><div class="ttdeci">Float_t GetZ2() const</div><div class="ttdef"><b>Definition:</b> EdbView.h:197</div></div>
<div class="ttc" id="aclassEdbView_html_af6d7c03ff5b0bfb320fc73135eca6a40"><div class="ttname"><a href="classEdbView.html#af6d7c03ff5b0bfb320fc73135eca6a40">EdbView::GetYview</a></div><div class="ttdeci">Float_t GetYview() const</div><div class="ttdef"><b>Definition:</b> EdbView.h:194</div></div>
<div class="ttc" id="aclassTOracleServerE2_html_a9cbf38735695cd8ddb73e89edc535892"><div class="ttname"><a href="classTOracleServerE2.html#a9cbf38735695cd8ddb73e89edc535892">TOracleServerE2::ReadMicrotracksPattern</a></div><div class="ttdeci">Int_t ReadMicrotracksPattern(int id_eventbrick, char *selection, EdbPattern &amp;pat)</div><div class="ttdef"><b>Definition:</b> TOracleServerE2.cxx:762</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5131f2069ed218f76691baea0f7364fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5131f2069ed218f76691baea0f7364fb">&#9670;&nbsp;</a></span>ReadScanbackPath()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Int_t TOracleServerE2::ReadScanbackPath </td>
          <td>(</td>
          <td class="paramtype">Int_t&#160;</td>
          <td class="paramname"><em>id_eventbrick</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Int_t&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classEdbTrackP.html">EdbTrackP</a> &amp;&#160;</td>
          <td class="paramname"><em>t</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>!! a kind of hack</p>
<p>!! a kind of hack</p>
<div class="fragment"><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;{</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;  <span class="comment">// read scanback track from vw_scanback_history and fill track t</span></div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;  <span class="comment">// the found segments stored as &quot;s&quot;, the predicted ones as &quot;sf&quot;</span></div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160; </div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;  <span class="keywordtype">int</span>  nseg=0;</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;  <span class="keywordtype">char</span> query[2048];</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;  <span class="keywordflow">try</span>{</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>)  <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a> = <a class="code" href="classTOracleServer.html#a25a4dd472f3dcdaaa5cb45710a9dc074">fConn</a>-&gt;createStatement();</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160; </div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    sprintf(query, <span class="stringliteral">&quot;select \</span></div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;<span class="stringliteral">id_track,id_plate,z,grains,fpx,fpy,fsx,fsy,ppx,ppy,psx,psy \</span></div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;<span class="stringliteral">from vw_scanback_history%s \</span></div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;<span class="stringliteral">where id_eventbrick=%d and path=%d and grains is not null order by id_plate&quot;</span></div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;        ,<a class="code" href="classTOracleServerE2.html#a20ccaf6deeb3f799267619e16df37c8e">eRTS</a>.Data(), id_eventbrick, path);</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160; </div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>-&gt;setSQL(query);</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>-&gt;setPrefetchRowCount(2000);</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    <a class="code" href="EdbLog_8cxx.html#a1134cd5954374a4bd1ead6fcade87e93">Log</a>(2,<span class="stringliteral">&quot;ReadScanbackPath&quot;</span>,<span class="stringliteral">&quot;execute sql query: %s ...&quot;</span>,query);</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>-&gt;execute();</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    ResultSet *rs = <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>-&gt;getResultSet();</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    <a class="code" href="classEdbSegP.html">EdbSegP</a> seg;</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    <a class="code" href="classEdbSegP.html">EdbSegP</a> segp;</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    <span class="keywordflow">while</span> (rs-&gt;next()){</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;      seg.<a class="code" href="classEdbSegP.html#affb922723872eb762b1392f9abb4cadb">Set</a>(</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;          rs-&gt;getInt(1),    <span class="comment">//id_track</span></div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;          rs-&gt;getFloat(5),  <span class="comment">//fpx</span></div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;          rs-&gt;getFloat(6),  <span class="comment">//fpy</span></div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;          rs-&gt;getFloat(7),  <span class="comment">//fsx</span></div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;          rs-&gt;getFloat(8),  <span class="comment">//fsy</span></div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;          rs-&gt;getInt(4),    <span class="comment">//grains</span></div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;          0                 <span class="comment">//flag</span></div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;          );</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;      seg.<a class="code" href="classEdbSegP.html#a0569437c620e92bdc573c2974561619f">SetPID</a>(rs-&gt;getInt(2));          <span class="comment">// id_plate</span></div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;      seg.<a class="code" href="classEdbSegP.html#a731335661cd2332599c620c2e4c4cba3">SetZ</a>(rs-&gt;getFloat(3));          <span class="comment">// z</span></div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;      seg.<a class="code" href="classEdbSegP.html#ab8c3afe40cf463547712a635f005ccef">SetDZ</a>(300.);                    </div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;      segp.<a class="code" href="classEdbSegP.html#affb922723872eb762b1392f9abb4cadb">Set</a>(</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;          rs-&gt;getInt(1),     <span class="comment">//id_track</span></div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;          rs-&gt;getFloat(9),   <span class="comment">//ppx</span></div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;          rs-&gt;getFloat(10),  <span class="comment">//ppy</span></div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;          rs-&gt;getFloat(11),  <span class="comment">//psx</span></div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;          rs-&gt;getFloat(12),  <span class="comment">//psy</span></div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;          rs-&gt;getInt(4),     <span class="comment">//grains</span></div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;          0                  <span class="comment">//flag</span></div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;          );</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;      segp.<a class="code" href="classEdbSegP.html#a0569437c620e92bdc573c2974561619f">SetPID</a>(rs-&gt;getInt(2));          <span class="comment">// id_plate</span></div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;      segp.<a class="code" href="classEdbSegP.html#a731335661cd2332599c620c2e4c4cba3">SetZ</a>(rs-&gt;getFloat(3));          <span class="comment">// z</span></div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;      segp.<a class="code" href="classEdbSegP.html#ab8c3afe40cf463547712a635f005ccef">SetDZ</a>(300.);                    </div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;      <a class="code" href="check__shower_8C.html#a0875ee197cd4c3d982f66037a0cbca8a">t</a>.AddSegment(<span class="keyword">new</span> <a class="code" href="classEdbSegP.html">EdbSegP</a>(seg));</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;      <a class="code" href="check__shower_8C.html#a0875ee197cd4c3d982f66037a0cbca8a">t</a>.AddSegmentF(<span class="keyword">new</span> <a class="code" href="classEdbSegP.html">EdbSegP</a>(segp));</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;      nseg++;</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    }</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    <span class="keyword">delete</span> rs;</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;  } <span class="keywordflow">catch</span> (SQLException &amp;oraex)  {</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    Error(<span class="stringliteral">&quot;TOracleServerE&quot;</span>, <span class="stringliteral">&quot;ReadBasetracksPattern failed: (error: %s)&quot;</span>, (oraex.getMessage()).c_str());</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;  }</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;  <a class="code" href="EdbLog_8cxx.html#a1134cd5954374a4bd1ead6fcade87e93">Log</a>(2,<span class="stringliteral">&quot;ReadScanbackPath&quot;</span>,<span class="stringliteral">&quot;%d segments are read\n&quot;</span>, nseg);</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;  <a class="code" href="check__shower_8C.html#a0875ee197cd4c3d982f66037a0cbca8a">t</a>.SetID(path);</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;  <a class="code" href="check__shower_8C.html#a0875ee197cd4c3d982f66037a0cbca8a">t</a>.SetSegmentsTrack(path);</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;  <a class="code" href="check__shower_8C.html#a0875ee197cd4c3d982f66037a0cbca8a">t</a>.SetCounters();</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;  <span class="keywordflow">return</span> nseg;</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a8e09ea9dccd068a5cc499572a6610ebb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e09ea9dccd068a5cc499572a6610ebb">&#9670;&nbsp;</a></span>ReadTemplateMarks()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Int_t TOracleServerE2::ReadTemplateMarks </td>
          <td>(</td>
          <td class="paramtype">Int_t&#160;</td>
          <td class="paramname"><em>id_brick</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classEdbMarksSet.html">EdbMarksSet</a> &amp;&#160;</td>
          <td class="paramname"><em>ms</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;{</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;  ms.<a class="code" href="classEdbMarksSet.html#a042494d3d8274e5cde5b3c8156b01bd8">GetAbsolute</a>()-&gt;<a class="code" href="classEdbMarksBox.html#a3a4a947e46b6eff89735f5ed0882ea47">GetMarks</a>()-&gt;Clear(<span class="stringliteral">&quot;C&quot;</span>);</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;  ms.<a class="code" href="classEdbMarksSet.html#a02ee05c209db76b2de4c3d21816eedfd">eBrick</a> = id_brick;</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160; </div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;  <span class="keywordtype">char</span> *query= <span class="keyword">new</span> <span class="keywordtype">char</span>[2048];</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160; </div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;  <span class="keywordflow">try</span>{</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>)</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;      <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a> = <a class="code" href="classTOracleServer.html#a25a4dd472f3dcdaaa5cb45710a9dc074">fConn</a>-&gt;createStatement();</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160; </div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    sprintf(query,</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;        <span class="stringliteral">&quot;select minx,maxx,miny,maxy from tb_eventbricks%s where mod(id_brick,1000000)=%d&quot;</span>,</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        <a class="code" href="classTOracleServerE2.html#a20ccaf6deeb3f799267619e16df37c8e">eRTS</a>.Data(),id_brick);</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>-&gt;setSQL(query);</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    <a class="code" href="EdbLog_8cxx.html#a1134cd5954374a4bd1ead6fcade87e93">Log</a>(2,<span class="stringliteral">&quot;ReadTemplateMarks&quot;</span>,<span class="stringliteral">&quot;execute sql query: %s ...&quot;</span>,query);</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>-&gt;execute();</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    ResultSet *rs = <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>-&gt;getResultSet();</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    <span class="keywordflow">while</span> (rs-&gt;next()){</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;      ms.<a class="code" href="classEdbMarksSet.html#a076401bdb95d68d0fbffc52357e738a1">eXmin</a> = rs-&gt;getFloat(1);</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;      ms.<a class="code" href="classEdbMarksSet.html#af33a52a8adba1a86135245a6b44aca3c">eXmax</a> = rs-&gt;getFloat(2);</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;      ms.<a class="code" href="classEdbMarksSet.html#a1704603e5d4048172ab1f918b5dd84cd">eYmin</a> = rs-&gt;getFloat(3);</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;      ms.<a class="code" href="classEdbMarksSet.html#a69320c8848718b420fe8cb252c20a4f8">eYmax</a> = rs-&gt;getFloat(4);</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    }</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    <span class="keyword">delete</span> rs;</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160; </div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    sprintf(query,</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;        <span class="stringliteral">&quot;select id_mark,posx,posy,side from tb_templatemarksets%s where id_eventbrick in \</span></div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;<span class="stringliteral">             (select id from tb_eventbricks where mod(id_brick,1000000)=%d) and shape=&#39;X&#39;&quot;</span>,</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;        <a class="code" href="classTOracleServerE2.html#a20ccaf6deeb3f799267619e16df37c8e">eRTS</a>.Data(),id_brick);</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160; </div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>-&gt;setSQL(query);</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    <a class="code" href="EdbLog_8cxx.html#a1134cd5954374a4bd1ead6fcade87e93">Log</a>(2,<span class="stringliteral">&quot;ReadTemplateMarks&quot;</span>,<span class="stringliteral">&quot;execute sql query: %s ...&quot;</span>,query);</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>-&gt;execute();</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    rs = <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>-&gt;getResultSet();</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    <span class="keywordflow">while</span> (rs-&gt;next()){</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;      ms.<a class="code" href="classEdbMarksSet.html#a042494d3d8274e5cde5b3c8156b01bd8">GetAbsolute</a>()-&gt;<a class="code" href="classEdbMarksBox.html#a9e0a2036310c86083df520b7a19d6585">AddMark</a>(rs-&gt;getInt(1),rs-&gt;getFloat(2),rs-&gt;getFloat(3),rs-&gt;getInt(4));</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    }</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    <span class="keyword">delete</span> rs;</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160; </div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;  } <span class="keywordflow">catch</span> (SQLException &amp;oraex) {</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    Error(<span class="stringliteral">&quot;TOracleServerE::ReadTemplateMarks&quot;</span>, <span class="stringliteral">&quot;Error!!! %s&quot;</span>, (oraex.getMessage()).c_str());</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;  }</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;  <span class="keywordflow">return</span> (ms.<a class="code" href="classEdbMarksSet.html#a042494d3d8274e5cde5b3c8156b01bd8">GetAbsolute</a>()-&gt;<a class="code" href="classEdbMarksBox.html#a2549ad8ad97dca3e7bddab9e854914f3">N</a>());</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;}</div>
<div class="ttc" id="aclassEdbMarksBox_html_a2549ad8ad97dca3e7bddab9e854914f3"><div class="ttname"><a href="classEdbMarksBox.html#a2549ad8ad97dca3e7bddab9e854914f3">EdbMarksBox::N</a></div><div class="ttdeci">Int_t N() const</div><div class="ttdef"><b>Definition:</b> EdbFiducial.h:75</div></div>
<div class="ttc" id="aclassEdbMarksBox_html_a9e0a2036310c86083df520b7a19d6585"><div class="ttname"><a href="classEdbMarksBox.html#a9e0a2036310c86083df520b7a19d6585">EdbMarksBox::AddMark</a></div><div class="ttdeci">void AddMark(int id, float x, float y, int flag=0)</div><div class="ttdef"><b>Definition:</b> EdbFiducial.cxx:716</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5bd253b74710ba43d652dadd41dc728a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5bd253b74710ba43d652dadd41dc728a">&#9670;&nbsp;</a></span>ReadVetoTracks()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Int_t TOracleServerE2::ReadVetoTracks </td>
          <td>(</td>
          <td class="paramtype">Int_t&#160;</td>
          <td class="paramname"><em>id_brick</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classEdbPattern.html">EdbPattern</a> &amp;&#160;</td>
          <td class="paramname"><em>pred</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;{</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;  <span class="comment">// Fills an EdbPattern object with veto tracks</span></div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;  <span class="comment">// The query reads from the table tb_veto_tracks</span></div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160; </div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;  veto.Reset();</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;  <a class="code" href="classEdbSegP.html">EdbSegP</a> seg;</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;  <span class="keywordtype">char</span> *query= <span class="keyword">new</span> <span class="keywordtype">char</span>[2048];</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160; </div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;  <span class="keywordflow">try</span>{</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>)</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;      <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a> = <a class="code" href="classTOracleServer.html#a25a4dd472f3dcdaaa5cb45710a9dc074">fConn</a>-&gt;createStatement();</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160; </div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    sprintf(query,</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;        <span class="stringliteral">&quot;select track,posx,posy,slopex,slopey from tb_veto_tracks%s where mod(id_cs_eventbrick,1000000)=%d&quot;</span>,</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;        <a class="code" href="classTOracleServerE2.html#a20ccaf6deeb3f799267619e16df37c8e">eRTS</a>.Data(),id_brick);</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    </div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>-&gt;setSQL(query);</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    <a class="code" href="EdbLog_8cxx.html#a1134cd5954374a4bd1ead6fcade87e93">Log</a>(2,<span class="stringliteral">&quot;ReadVetoTracks&quot;</span>,<span class="stringliteral">&quot;execute sql query: %s ...&quot;</span>,query);</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>-&gt;execute();</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    ResultSet *rs = <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>-&gt;getResultSet();</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <span class="keywordflow">while</span> (rs-&gt;next()){</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;      seg.<a class="code" href="classEdbSegP.html#affb922723872eb762b1392f9abb4cadb">Set</a>(rs-&gt;getInt(1),rs-&gt;getFloat(2),rs-&gt;getFloat(3),rs-&gt;getFloat(4),rs-&gt;getFloat(5),0,0);</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;      seg.<a class="code" href="classEdbSegP.html#a0569437c620e92bdc573c2974561619f">SetPID</a>(57);</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;      veto.AddSegment(seg);</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    }</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <span class="keyword">delete</span> rs;</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160; </div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;  } <span class="keywordflow">catch</span> (SQLException &amp;oraex) {</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    Error(<span class="stringliteral">&quot;TOracleServerE::ReadVetoTracks&quot;</span>, <span class="stringliteral">&quot;Error!!! %s&quot;</span>, (oraex.getMessage()).c_str());</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;  }</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;  <span class="keywordflow">return</span> (veto.N());</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a1c28a8442ced116e03ce4394a139b558"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c28a8442ced116e03ce4394a139b558">&#9670;&nbsp;</a></span>ReadViewsZone()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Int_t TOracleServerE2::ReadViewsZone </td>
          <td>(</td>
          <td class="paramtype">ULong64_t&#160;</td>
          <td class="paramname"><em>id_zone</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>side</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TObjArray &amp;&#160;</td>
          <td class="paramname"><em>edbviews</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;{</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;  <span class="comment">// read TB_VIEWS for the given zone and fill the array of edbviews with the correct headers information</span></div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160; </div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;  <span class="keywordtype">int</span>  nviews=0;</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;  <span class="keywordtype">char</span> query[2048];</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;  <span class="keywordflow">try</span>{</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>)</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;      <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a> = <a class="code" href="classTOracleServer.html#a25a4dd472f3dcdaaa5cb45710a9dc074">fConn</a>-&gt;createStatement();</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;    sprintf(query, <span class="stringliteral">&quot;SELECT \</span></div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;<span class="stringliteral">  id_eventbrick, side, id, downz, upz, posx, posy \</span></div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;<span class="stringliteral">  from TB_VIEWS%s where id_zone=%lld and side=%d order by id&quot;</span>, <a class="code" href="classTOracleServerE2.html#a20ccaf6deeb3f799267619e16df37c8e">eRTS</a>.Data(),</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;        id_zone,side);</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;    <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>-&gt;setSQL(query);</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;    <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>-&gt;setPrefetchRowCount(2000);</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;    <a class="code" href="EdbLog_8cxx.html#a1134cd5954374a4bd1ead6fcade87e93">Log</a>(2,<span class="stringliteral">&quot;ReadViewsZone&quot;</span>,<span class="stringliteral">&quot;execute sql query: %s ...&quot;</span>,query);</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;    <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>-&gt;execute();</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;    ResultSet *rs = <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>-&gt;getResultSet();</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;    <a class="code" href="classEdbView.html">EdbView</a> *view=0;</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;    <span class="keywordflow">while</span> (rs-&gt;next()) {</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;      view = <span class="keyword">new</span> <a class="code" href="classEdbView.html">EdbView</a>();</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;      view-&gt;<a class="code" href="classEdbView.html#a022ae1a66c16e43c95211cf25241ace1">GetHeader</a>()-&gt;<a class="code" href="classEdbViewHeader.html#a693a384ddbc031fb880a95484fac6607">SetAreaID</a>(id_zone%10000000);</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;      view-&gt;<a class="code" href="classEdbView.html#a022ae1a66c16e43c95211cf25241ace1">GetHeader</a>()-&gt;<a class="code" href="classEdbViewHeader.html#a786853bb8bef6df9fe224ff37b0aa328">SetViewID</a>(rs-&gt;getInt(3));</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160; </div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;      <span class="comment">//inverted 1 and 2 (vt 26/05)</span></div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;      <span class="keywordflow">if</span>     (side==2)  {</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;    view-&gt;<a class="code" href="classEdbView.html#aee591dfb1a009b71da710b297133071a">SetNframes</a>(0,15);  <span class="comment">//bottom side</span></div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;    view-&gt;<a class="code" href="classEdbView.html#a022ae1a66c16e43c95211cf25241ace1">GetHeader</a>()-&gt;<a class="code" href="classEdbViewHeader.html#a2e0a62fa682d8a647f9d44aa8600739a">SetCoordZ</a>( 0,0, rs-&gt;getFloat(5), rs-&gt;getFloat(4) );  <span class="comment">//to check it!</span></div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;      }</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span>(side==1) {</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;    view-&gt;<a class="code" href="classEdbView.html#aee591dfb1a009b71da710b297133071a">SetNframes</a>(15,0);  <span class="comment">//top side</span></div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;    view-&gt;<a class="code" href="classEdbView.html#a022ae1a66c16e43c95211cf25241ace1">GetHeader</a>()-&gt;<a class="code" href="classEdbViewHeader.html#a2e0a62fa682d8a647f9d44aa8600739a">SetCoordZ</a>( rs-&gt;getFloat(5), rs-&gt;getFloat(4), 0,0 );  <span class="comment">//to check it!</span></div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;      }</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;      view-&gt;<a class="code" href="classEdbView.html#a022ae1a66c16e43c95211cf25241ace1">GetHeader</a>()-&gt;<a class="code" href="classEdbViewHeader.html#ac9f10b56fb20e9a6ba6f927ba17d0fea">SetCoordXY</a>( rs-&gt;getFloat(6), rs-&gt;getFloat(7) );</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160; </div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;      edbviews.Add(view);</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;      nviews++;</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;    }</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;    <span class="keyword">delete</span> rs;</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;  } <span class="keywordflow">catch</span> (SQLException &amp;oraex)  {</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;    Error(<span class="stringliteral">&quot;TOracleServerE2&quot;</span>, <span class="stringliteral">&quot;ReadViews is failed: (error: %s)&quot;</span>, (oraex.getMessage()).c_str());</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;  }</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;  <a class="code" href="EdbLog_8cxx.html#a1134cd5954374a4bd1ead6fcade87e93">Log</a>(2,<span class="stringliteral">&quot;ReadViewsZone&quot;</span>,<span class="stringliteral">&quot;%d views are read\n&quot;</span>, nviews);</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;  <span class="keywordflow">return</span> nviews;</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;}</div>
<div class="ttc" id="aclassEdbViewHeader_html_a2e0a62fa682d8a647f9d44aa8600739a"><div class="ttname"><a href="classEdbViewHeader.html#a2e0a62fa682d8a647f9d44aa8600739a">EdbViewHeader::SetCoordZ</a></div><div class="ttdeci">void SetCoordZ(float z1, float z2, float z3, float z4)</div><div class="ttdef"><b>Definition:</b> EdbView.h:102</div></div>
<div class="ttc" id="aclassEdbViewHeader_html_a693a384ddbc031fb880a95484fac6607"><div class="ttname"><a href="classEdbViewHeader.html#a693a384ddbc031fb880a95484fac6607">EdbViewHeader::SetAreaID</a></div><div class="ttdeci">void SetAreaID(int id)</div><div class="ttdef"><b>Definition:</b> EdbView.h:100</div></div>
<div class="ttc" id="aclassEdbViewHeader_html_a786853bb8bef6df9fe224ff37b0aa328"><div class="ttname"><a href="classEdbViewHeader.html#a786853bb8bef6df9fe224ff37b0aa328">EdbViewHeader::SetViewID</a></div><div class="ttdeci">void SetViewID(int id)</div><div class="ttdef"><b>Definition:</b> EdbView.h:99</div></div>
<div class="ttc" id="aclassEdbViewHeader_html_ac9f10b56fb20e9a6ba6f927ba17d0fea"><div class="ttname"><a href="classEdbViewHeader.html#ac9f10b56fb20e9a6ba6f927ba17d0fea">EdbViewHeader::SetCoordXY</a></div><div class="ttdeci">void SetCoordXY(float x, float y)</div><div class="ttdef"><b>Definition:</b> EdbView.h:101</div></div>
<div class="ttc" id="aclassEdbView_html_a022ae1a66c16e43c95211cf25241ace1"><div class="ttname"><a href="classEdbView.html#a022ae1a66c16e43c95211cf25241ace1">EdbView::GetHeader</a></div><div class="ttdeci">EdbViewHeader * GetHeader() const</div><div class="ttdef"><b>Definition:</b> EdbView.h:163</div></div>
<div class="ttc" id="aclassEdbView_html_aee591dfb1a009b71da710b297133071a"><div class="ttname"><a href="classEdbView.html#aee591dfb1a009b71da710b297133071a">EdbView::SetNframes</a></div><div class="ttdeci">void SetNframes(int top, int bot)</div><div class="ttdef"><b>Definition:</b> EdbView.h:184</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a52b6d2ce648e5a60a66009625e2bae3b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52b6d2ce648e5a60a66009625e2bae3b">&#9670;&nbsp;</a></span>ReadVolume() <span class="overload">[1/4]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Int_t TOracleServerE2::ReadVolume </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>id_volume</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classEdbPatternsVolume.html">EdbPatternsVolume</a> &amp;&#160;</td>
          <td class="paramname"><em>vol</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;{</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;  <span class="keywordtype">int</span>  nsegtot=0;</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;  <span class="keywordtype">char</span> query[2048];</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;  TObjArray patterns(100);</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;  <a class="code" href="classEdbPattern.html">EdbPattern</a> *pat=0;</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;  <span class="keywordflow">try</span>{</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>)</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;      <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a> = <a class="code" href="classTOracleServer.html#a25a4dd472f3dcdaaa5cb45710a9dc074">fConn</a>-&gt;createStatement();</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    sprintf(query,<span class="stringliteral">&quot;\</span></div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;<span class="stringliteral">    select id_plate,id_eventbrick from TB_VOLUME_SLICES%s where id_volume=%s order by id_plate&quot;</span>,<a class="code" href="classTOracleServerE2.html#a20ccaf6deeb3f799267619e16df37c8e">eRTS</a>.Data(), id_volume);</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;    <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>-&gt;setSQL(query);</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    <a class="code" href="EdbLog_8cxx.html#a1134cd5954374a4bd1ead6fcade87e93">Log</a>(2,<span class="stringliteral">&quot;ReadVolume&quot;</span>,<span class="stringliteral">&quot;\nexecute sql query: %s ...&quot;</span>,query);</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;    <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>-&gt;execute();</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    ResultSet *rs = <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>-&gt;getResultSet();</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    <span class="keywordflow">if</span>(!rs) <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="merge__Energy__SytematicSources__Electron_8C.html#a120e8eebe88c70d8763b145e800984dc">plate</a>=0;</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="RecDispMC_8C.html#a9c17c69ba70b395ab079a56d5fe24450">brick</a>=0;</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;    <span class="keywordflow">while</span> (rs-&gt;next()){</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;      sscanf( (rs-&gt;getString(1)).c_str(),<span class="stringliteral">&quot;%d&quot;</span>, &amp;<a class="code" href="merge__Energy__SytematicSources__Electron_8C.html#a120e8eebe88c70d8763b145e800984dc">plate</a> );</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;      sscanf( (rs-&gt;getString(2)).c_str(),<span class="stringliteral">&quot;%d&quot;</span>, &amp;<a class="code" href="RecDispMC_8C.html#a9c17c69ba70b395ab079a56d5fe24450">brick</a> );</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;      pat = <span class="keyword">new</span> <a class="code" href="classEdbPattern.html">EdbPattern</a>(0.,0.,0);</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;      pat-&gt;<a class="code" href="classEdbPattern.html#a37356e04720aa08db37509ecbd52244f">SetPID</a>(<a class="code" href="merge__Energy__SytematicSources__Electron_8C.html#a120e8eebe88c70d8763b145e800984dc">plate</a>);</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;      pat-&gt;<a class="code" href="classEdbPattern.html#a34034c768df5f70a79019fd35bf94bb6">SetID</a>(<a class="code" href="RecDispMC_8C.html#a9c17c69ba70b395ab079a56d5fe24450">brick</a>);</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;      patterns.Add( pat );</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    }</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;  } <span class="keywordflow">catch</span> (SQLException &amp;oraex) {</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    Error(<span class="stringliteral">&quot;TOracleServerE&quot;</span>, <span class="stringliteral">&quot;ReadPatternsVolume; failed: (error: %s)&quot;</span>, (oraex.getMessage()).c_str());</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;  }</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="Xi2HatStartScript_8C.html#a2da5953c416c478bd7431118ff63b1b5">npat</a> = patterns.GetEntries();</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="Xi2HatStartScript_8C.html#a2da5953c416c478bd7431118ff63b1b5">npat</a>; i++) {</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    pat = (<a class="code" href="classEdbPattern.html">EdbPattern</a>*)patterns.<a class="code" href="classEdbSegmentsBox.html#ae40d3bc813c3d82e327aa620cbd9c2ef">At</a>(i);</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    <span class="comment">//if( !ReadZplate(pat-&gt;ID(), pat-&gt;PID(), *pat ) )</span></div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="classTOracleServerE2.html#ab61d584e0fe6b320a08ebec12e774958">ReadZplate_nominal</a>(pat-&gt;<a class="code" href="classEdbPattern.html#abfc3d87743c0e4c6afc9ba9870ec6b10">ID</a>(), pat-&gt;<a class="code" href="classEdbPattern.html#a3ab9288b886801985f6f43734539d580">PID</a>(), *pat ) )</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;      { <a class="code" href="EdbLog_8cxx.html#a1134cd5954374a4bd1ead6fcade87e93">Log</a>(1,<span class="stringliteral">&quot;ReadVolume&quot;</span>,<span class="stringliteral">&quot;skip plate %d %d !&quot;</span>, pat-&gt;<a class="code" href="classEdbPattern.html#abfc3d87743c0e4c6afc9ba9870ec6b10">ID</a>(),pat-&gt;<a class="code" href="classEdbPattern.html#a3ab9288b886801985f6f43734539d580">PID</a>()); <span class="keywordflow">continue</span>; }</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    sprintf(query,<span class="stringliteral">&quot;id_eventbrick=%d and id_zone in (select id_zone from TB_VOLUME_SLICES%s where id_volume=%s and id_plate=%d)&quot;</span>,pat-&gt;<a class="code" href="classEdbPattern.html#abfc3d87743c0e4c6afc9ba9870ec6b10">ID</a>(), <a class="code" href="classTOracleServerE2.html#a20ccaf6deeb3f799267619e16df37c8e">eRTS</a>.Data(), id_volume,pat-&gt;<a class="code" href="classEdbPattern.html#a3ab9288b886801985f6f43734539d580">PID</a>());</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    nsegtot  += <a class="code" href="classTOracleServerE2.html#a87e90248c4648fde2351d86b81e8d9a4">ReadBasetracksPattern</a>(query, *pat);</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;    <a class="code" href="RecDispNU_8C.html#a4c9155762f5d32076a47da7c0524baf8">vol</a>.<a class="code" href="classEdbPatternsVolume.html#a18aa41d9837a397677b6ba9655ee6fec">AddPattern</a>(pat);</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;  }</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;  <a class="code" href="EdbLog_8cxx.html#a1134cd5954374a4bd1ead6fcade87e93">Log</a>(2,<span class="stringliteral">&quot;ReadVolume&quot;</span>,<span class="stringliteral">&quot;%d segments extracted from db into PatternsVolume&quot;</span>,nsegtot);</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160; </div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;  <span class="keywordflow">return</span> nsegtot;</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;}</div>
<div class="ttc" id="aclassEdbPattern_html_a34034c768df5f70a79019fd35bf94bb6"><div class="ttname"><a href="classEdbPattern.html#a34034c768df5f70a79019fd35bf94bb6">EdbPattern::SetID</a></div><div class="ttdeci">void SetID(int id)</div><div class="ttdef"><b>Definition:</b> EdbPattern.h:318</div></div>
<div class="ttc" id="aclassEdbPattern_html_abfc3d87743c0e4c6afc9ba9870ec6b10"><div class="ttname"><a href="classEdbPattern.html#abfc3d87743c0e4c6afc9ba9870ec6b10">EdbPattern::ID</a></div><div class="ttdeci">int ID() const</div><div class="ttdef"><b>Definition:</b> EdbPattern.h:328</div></div>
<div class="ttc" id="aclassTOracleServerE2_html_ab61d584e0fe6b320a08ebec12e774958"><div class="ttname"><a href="classTOracleServerE2.html#ab61d584e0fe6b320a08ebec12e774958">TOracleServerE2::ReadZplate_nominal</a></div><div class="ttdeci">bool ReadZplate_nominal(int id_plate, int id_eventbrick, EdbPattern &amp;pat)</div><div class="ttdef"><b>Definition:</b> TOracleServerE2.cxx:525</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3e852ab60582f22bd8f4339b140ff678"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e852ab60582f22bd8f4339b140ff678">&#9670;&nbsp;</a></span>ReadVolume() <span class="overload">[2/4]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Int_t TOracleServerE2::ReadVolume </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>id_volume</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classEdbPatternsVolume.html">EdbPatternsVolume</a> &amp;&#160;</td>
          <td class="paramname"><em>vol</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Int_t&#160;</td>
          <td class="paramname"><em>min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Int_t&#160;</td>
          <td class="paramname"><em>max</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;{</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;  <span class="keywordtype">int</span>  nsegtot=0;</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;  <span class="keywordtype">char</span> query[2048];</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;  TObjArray patterns(100);</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;  <a class="code" href="classEdbPattern.html">EdbPattern</a> *pat=0;</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;  <span class="keywordflow">try</span>{</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>)</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;      <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a> = <a class="code" href="classTOracleServer.html#a25a4dd472f3dcdaaa5cb45710a9dc074">fConn</a>-&gt;createStatement();</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    sprintf(query,<span class="stringliteral">&quot;\</span></div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;<span class="stringliteral">    select id_plate,id_eventbrick from TB_VOLUME_SLICES%s where (id_volume=%s and id_plate &gt; %d-1 and id_plate &lt; %d+1) order by id_plate&quot;</span>, </div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;        <a class="code" href="classTOracleServerE2.html#a20ccaf6deeb3f799267619e16df37c8e">eRTS</a>.Data(),</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;        id_volume,<a class="code" href="bitview_8cxx.html#a6daff2382eb041057cd8970a2f619c3f">min</a>,<a class="code" href="check__shower_8C.html#ae1e1dde676c120fa6d10f3bb2c14059e">max</a>);</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>-&gt;setSQL(query);</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    <a class="code" href="EdbLog_8cxx.html#a1134cd5954374a4bd1ead6fcade87e93">Log</a>(2,<span class="stringliteral">&quot;ReadVolume&quot;</span>,<span class="stringliteral">&quot;execute sql query: %s ...&quot;</span>,query);</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>-&gt;execute();</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    ResultSet *rs = <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>-&gt;getResultSet();</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="merge__Energy__SytematicSources__Electron_8C.html#a120e8eebe88c70d8763b145e800984dc">plate</a>=0;</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="RecDispMC_8C.html#a9c17c69ba70b395ab079a56d5fe24450">brick</a>=0;</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;    <span class="keywordflow">while</span> (rs-&gt;next()){</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;      sscanf( (rs-&gt;getString(1)).c_str(),<span class="stringliteral">&quot;%d&quot;</span>, &amp;<a class="code" href="merge__Energy__SytematicSources__Electron_8C.html#a120e8eebe88c70d8763b145e800984dc">plate</a> );</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;      sscanf( (rs-&gt;getString(2)).c_str(),<span class="stringliteral">&quot;%d&quot;</span>, &amp;<a class="code" href="RecDispMC_8C.html#a9c17c69ba70b395ab079a56d5fe24450">brick</a> );</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;      pat = <span class="keyword">new</span> <a class="code" href="classEdbPattern.html">EdbPattern</a>(0.,0.,0);</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;      pat-&gt;<a class="code" href="classEdbPattern.html#a37356e04720aa08db37509ecbd52244f">SetPID</a>(<a class="code" href="merge__Energy__SytematicSources__Electron_8C.html#a120e8eebe88c70d8763b145e800984dc">plate</a>);</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;      pat-&gt;<a class="code" href="classEdbPattern.html#a34034c768df5f70a79019fd35bf94bb6">SetID</a>(<a class="code" href="RecDispMC_8C.html#a9c17c69ba70b395ab079a56d5fe24450">brick</a>);</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;      patterns.Add( pat );</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;    }</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;  } <span class="keywordflow">catch</span> (SQLException &amp;oraex) {</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;    Error(<span class="stringliteral">&quot;TOracleServerE&quot;</span>, <span class="stringliteral">&quot;ReadPatternsVolume; failed: (error: %s)&quot;</span>, (oraex.getMessage()).c_str());</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;  }</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="Xi2HatStartScript_8C.html#a2da5953c416c478bd7431118ff63b1b5">npat</a> = patterns.GetEntries();</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="Xi2HatStartScript_8C.html#a2da5953c416c478bd7431118ff63b1b5">npat</a>; i++) {</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    pat = (<a class="code" href="classEdbPattern.html">EdbPattern</a>*)patterns.<a class="code" href="classEdbSegmentsBox.html#ae40d3bc813c3d82e327aa620cbd9c2ef">At</a>(i);</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="classTOracleServerE2.html#aad8aa3e790f83ed9fea59ad15a5306e4">ReadZplate</a>(pat-&gt;<a class="code" href="classEdbPattern.html#abfc3d87743c0e4c6afc9ba9870ec6b10">ID</a>(), pat-&gt;<a class="code" href="classEdbPattern.html#a3ab9288b886801985f6f43734539d580">PID</a>(), *pat ) )</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;      { <a class="code" href="EdbLog_8cxx.html#a1134cd5954374a4bd1ead6fcade87e93">Log</a>(1,<span class="stringliteral">&quot;ReadVolume&quot;</span>,<span class="stringliteral">&quot;skip plate %d %d !&quot;</span>, pat-&gt;<a class="code" href="classEdbPattern.html#abfc3d87743c0e4c6afc9ba9870ec6b10">ID</a>(),pat-&gt;<a class="code" href="classEdbPattern.html#a3ab9288b886801985f6f43734539d580">PID</a>()); <span class="keywordflow">continue</span>; }</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;    sprintf(query,<span class="stringliteral">&quot;id_zone in (select id_zone from TB_VOLUME_SLICES%s where id_volume=%s and id_plate=%d)&quot;</span>,<a class="code" href="classTOracleServerE2.html#a20ccaf6deeb3f799267619e16df37c8e">eRTS</a>.Data(),</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;        id_volume,pat-&gt;<a class="code" href="classEdbPattern.html#a3ab9288b886801985f6f43734539d580">PID</a>());</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    nsegtot  += <a class="code" href="classTOracleServerE2.html#a87e90248c4648fde2351d86b81e8d9a4">ReadBasetracksPattern</a>(query, *pat);</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    <a class="code" href="RecDispNU_8C.html#a4c9155762f5d32076a47da7c0524baf8">vol</a>.<a class="code" href="classEdbPatternsVolume.html#a18aa41d9837a397677b6ba9655ee6fec">AddPattern</a>(pat);</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;  }</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;  <a class="code" href="EdbLog_8cxx.html#a1134cd5954374a4bd1ead6fcade87e93">Log</a>(2,<span class="stringliteral">&quot;ReadVolume&quot;</span>,<span class="stringliteral">&quot;%d segments extracted from db into PatternsVolume&quot;</span>,nsegtot);</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160; </div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;  <span class="keywordflow">return</span> nsegtot;</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;}</div>
<div class="ttc" id="abitview_8cxx_html_a6daff2382eb041057cd8970a2f619c3f"><div class="ttname"><a href="bitview_8cxx.html#a6daff2382eb041057cd8970a2f619c3f">min</a></div><div class="ttdeci">float min(TClonesArray *t)</div><div class="ttdef"><b>Definition:</b> bitview.cxx:275</div></div>
<div class="ttc" id="acheck__shower_8C_html_ae1e1dde676c120fa6d10f3bb2c14059e"><div class="ttname"><a href="check__shower_8C.html#ae1e1dde676c120fa6d10f3bb2c14059e">max</a></div><div class="ttdeci">int max</div><div class="ttdef"><b>Definition:</b> check_shower.C:41</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aed42fd8ddf0604cd764f50ed1c38abcf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed42fd8ddf0604cd764f50ed1c38abcf">&#9670;&nbsp;</a></span>ReadVolume() <span class="overload">[3/4]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Int_t TOracleServerE2::ReadVolume </td>
          <td>(</td>
          <td class="paramtype">ULong64_t&#160;</td>
          <td class="paramname"><em>id_volume</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classEdbPatternsVolume.html">EdbPatternsVolume</a> &amp;&#160;</td>
          <td class="paramname"><em>vol</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;{</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;  <span class="keywordtype">char</span> <span class="keywordtype">id</span>[24];</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;  sprintf(<span class="keywordtype">id</span>,<span class="stringliteral">&quot;%lld&quot;</span>,id_volume);</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classTOracleServerE2.html#a52b6d2ce648e5a60a66009625e2bae3b">ReadVolume</a>(<span class="keywordtype">id</span>,<a class="code" href="RecDispNU_8C.html#a4c9155762f5d32076a47da7c0524baf8">vol</a>);</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;}</div>
<div class="ttc" id="aclassTOracleServerE2_html_a52b6d2ce648e5a60a66009625e2bae3b"><div class="ttname"><a href="classTOracleServerE2.html#a52b6d2ce648e5a60a66009625e2bae3b">TOracleServerE2::ReadVolume</a></div><div class="ttdeci">Int_t ReadVolume(char *id_volume, EdbPatternsVolume &amp;vol)</div><div class="ttdef"><b>Definition:</b> TOracleServerE2.cxx:434</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af3e8d7c8ff6ad5a70c1da2c8533afc29"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3e8d7c8ff6ad5a70c1da2c8533afc29">&#9670;&nbsp;</a></span>ReadVolume() <span class="overload">[4/4]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Int_t TOracleServerE2::ReadVolume </td>
          <td>(</td>
          <td class="paramtype">ULong64_t&#160;</td>
          <td class="paramname"><em>id_volume</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classEdbPatternsVolume.html">EdbPatternsVolume</a> &amp;&#160;</td>
          <td class="paramname"><em>vol</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Int_t&#160;</td>
          <td class="paramname"><em>min_pl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Int_t&#160;</td>
          <td class="paramname"><em>max_pl</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;{</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;  <span class="keywordtype">char</span> <span class="keywordtype">id</span>[24];</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;  Int_t <a class="code" href="bitview_8cxx.html#a6daff2382eb041057cd8970a2f619c3f">min</a>= min_pl;</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;  Int_t <a class="code" href="check__shower_8C.html#ae1e1dde676c120fa6d10f3bb2c14059e">max</a>= max_pl;</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;  sprintf(<span class="keywordtype">id</span>,<span class="stringliteral">&quot;%lld&quot;</span>,id_volume);</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classTOracleServerE2.html#a52b6d2ce648e5a60a66009625e2bae3b">ReadVolume</a>(<span class="keywordtype">id</span>,<a class="code" href="RecDispNU_8C.html#a4c9155762f5d32076a47da7c0524baf8">vol</a>,<a class="code" href="bitview_8cxx.html#a6daff2382eb041057cd8970a2f619c3f">min</a>,<a class="code" href="check__shower_8C.html#ae1e1dde676c120fa6d10f3bb2c14059e">max</a>);</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aad8aa3e790f83ed9fea59ad15a5306e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad8aa3e790f83ed9fea59ad15a5306e4">&#9670;&nbsp;</a></span>ReadZplate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool TOracleServerE2::ReadZplate </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id_plate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id_eventbrick</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classEdbPattern.html">EdbPattern</a> &amp;&#160;</td>
          <td class="paramname"><em>pat</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;{</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;  <span class="comment">// read z of the plate after calibration from the tb_plate_calibrations table</span></div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160; </div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;  <span class="keywordtype">char</span> *query= <span class="keyword">new</span> <span class="keywordtype">char</span>[2048];</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;  Float_t <a class="code" href="emthickness_8cpp.html#a1576eaf58e4371bc3238da5580c6679a">Z</a>=0;</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;  <a class="code" href="classEdbAffine2D.html">EdbAffine2D</a> *aff=0;</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;  <span class="keywordflow">try</span>{</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>)</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;      <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a> = <a class="code" href="classTOracleServer.html#a25a4dd472f3dcdaaa5cb45710a9dc074">fConn</a>-&gt;createStatement();</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160; </div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;    sprintf(query,</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;            <span class="stringliteral">&quot;select z,MAPXX,MAPXY,MAPYX,MAPYY,MAPDX,MAPDY from tb_plate_calibrations%s \</span></div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;<span class="stringliteral">             where id_eventbrick=%d and id_plate=%d&quot;</span>, <a class="code" href="classTOracleServerE2.html#a20ccaf6deeb3f799267619e16df37c8e">eRTS</a>.Data(),</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;            id_eventbrick, id_plate);</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;    <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>-&gt;setSQL(query);</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;    <a class="code" href="EdbLog_8cxx.html#a1134cd5954374a4bd1ead6fcade87e93">Log</a>(2,<span class="stringliteral">&quot;ReadZplate&quot;</span>,<span class="stringliteral">&quot;execute sql query: %s ...&quot;</span>,query);</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;    <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>-&gt;execute();</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;    ResultSet *rs = <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>-&gt;getResultSet();</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;    <span class="keywordflow">while</span> (rs-&gt;next()){</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;      <a class="code" href="emthickness_8cpp.html#a1576eaf58e4371bc3238da5580c6679a">Z</a> = rs-&gt;getFloat(1);</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;      aff = <span class="keyword">new</span> <a class="code" href="classEdbAffine2D.html">EdbAffine2D</a>(rs-&gt;getFloat(2),</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;                            rs-&gt;getFloat(3),</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;                            rs-&gt;getFloat(4),</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;                            rs-&gt;getFloat(5),</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;                            rs-&gt;getFloat(6),</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;                            rs-&gt;getFloat(7));</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;    }</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;    <span class="keyword">delete</span> rs;</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;    pat.<a class="code" href="classEdbSegmentsBox.html#a24a08fc457c7a812d4c09f33320658d4">SetZ</a>(<a class="code" href="emthickness_8cpp.html#a1576eaf58e4371bc3238da5580c6679a">Z</a>);</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    aff-&gt;<a class="code" href="classEdbAffine2D.html#a410de38da8b2cf66a75f09b02a21536b">Print</a>();</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;  } <span class="keywordflow">catch</span> (SQLException &amp;oraex) {</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;    Error(<span class="stringliteral">&quot;TOracleServerE&quot;</span>, <span class="stringliteral">&quot;ReadBasetracksPattern; Affine failed: (error: %s)&quot;</span>, (oraex.getMessage()).c_str());</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;  }</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;}</div>
<div class="ttc" id="aclassEdbAffine2D_html"><div class="ttname"><a href="classEdbAffine2D.html">EdbAffine2D</a></div><div class="ttdef"><b>Definition:</b> EdbAffine.h:17</div></div>
<div class="ttc" id="aclassEdbAffine2D_html_a410de38da8b2cf66a75f09b02a21536b"><div class="ttname"><a href="classEdbAffine2D.html#a410de38da8b2cf66a75f09b02a21536b">EdbAffine2D::Print</a></div><div class="ttdeci">void Print(Option_t *opt=&quot;&quot;) const</div><div class="ttdef"><b>Definition:</b> EdbAffine.cxx:52</div></div>
<div class="ttc" id="aclassEdbSegmentsBox_html_a24a08fc457c7a812d4c09f33320658d4"><div class="ttname"><a href="classEdbSegmentsBox.html#a24a08fc457c7a812d4c09f33320658d4">EdbSegmentsBox::SetZ</a></div><div class="ttdeci">void SetZ(float z)</div><div class="ttdef"><b>Definition:</b> EdbPattern.h:41</div></div>
<div class="ttc" id="aemthickness_8cpp_html_a1576eaf58e4371bc3238da5580c6679a"><div class="ttname"><a href="emthickness_8cpp.html#a1576eaf58e4371bc3238da5580c6679a">Z</a></div><div class="ttdeci">struct @8 Z</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab61d584e0fe6b320a08ebec12e774958"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab61d584e0fe6b320a08ebec12e774958">&#9670;&nbsp;</a></span>ReadZplate_nominal()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool TOracleServerE2::ReadZplate_nominal </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id_plate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id_eventbrick</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classEdbPattern.html">EdbPattern</a> &amp;&#160;</td>
          <td class="paramname"><em>pat</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;{</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;  <span class="comment">// read nominal z of the plate from the tb_plates table</span></div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160; </div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;  <span class="keywordtype">char</span> *query= <span class="keyword">new</span> <span class="keywordtype">char</span>[2048];</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;  Float_t <a class="code" href="emthickness_8cpp.html#a1576eaf58e4371bc3238da5580c6679a">Z</a>=0;</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160; </div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;  <span class="keywordflow">try</span>{</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>)</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;      <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a> = <a class="code" href="classTOracleServer.html#a25a4dd472f3dcdaaa5cb45710a9dc074">fConn</a>-&gt;createStatement();</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160; </div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    sprintf(query,</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;            <span class="stringliteral">&quot;select pl.z-br.minz from tb_plates%s pl, tb_eventbricks%s br\</span></div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;<span class="stringliteral">             where pl.id_eventbrick=%d and pl.id=%d and br.id=pl.id_eventbrick&quot;</span>,<a class="code" href="classTOracleServerE2.html#a20ccaf6deeb3f799267619e16df37c8e">eRTS</a>.Data(),<a class="code" href="classTOracleServerE2.html#a20ccaf6deeb3f799267619e16df37c8e">eRTS</a>.Data(),</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;            id_eventbrick, id_plate);</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160; </div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;    <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>-&gt;setSQL(query);</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;    <a class="code" href="EdbLog_8cxx.html#a1134cd5954374a4bd1ead6fcade87e93">Log</a>(2,<span class="stringliteral">&quot;ReadZplate_nominal&quot;</span>,<span class="stringliteral">&quot;execute sql query: %s ...&quot;</span>,query);</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;    <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>-&gt;execute();</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;    ResultSet *rs = <a class="code" href="classTOracleServer.html#a32ee50ec71a48adcedc797157ea60602">fStmt</a>-&gt;getResultSet();</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;    <span class="keywordflow">while</span> (rs-&gt;next()){</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;      <a class="code" href="emthickness_8cpp.html#a1576eaf58e4371bc3238da5580c6679a">Z</a> = rs-&gt;getFloat(1);</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;    }</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;    <span class="keyword">delete</span> rs;</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;    pat.<a class="code" href="classEdbSegmentsBox.html#a24a08fc457c7a812d4c09f33320658d4">SetZ</a>(<a class="code" href="emthickness_8cpp.html#a1576eaf58e4371bc3238da5580c6679a">Z</a>);</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160; </div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;  } <span class="keywordflow">catch</span> (SQLException &amp;oraex) {</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    Error(<span class="stringliteral">&quot;TOracleServerE&quot;</span>, <span class="stringliteral">&quot;ReadBasetracksPattern; Affine failed: (error: %s)&quot;</span>, (oraex.getMessage()).c_str());</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;  }</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a20ccaf6deeb3f799267619e16df37c8e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a20ccaf6deeb3f799267619e16df37c8e">&#9670;&nbsp;</a></span>eRTS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TString TOracleServerE2::eRTS</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/libEOracle/<a class="el" href="TOracleServerE2_8h_source.html">TOracleServerE2.h</a></li>
<li>src/libEOracle/<a class="el" href="TOracleServerE2_8cxx.html">TOracleServerE2.cxx</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classTOracleServerE2.html">TOracleServerE2</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
